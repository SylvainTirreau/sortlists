(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const t=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},n=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var l=n.then;if("function"==typeof l)return void l.call(n,(function(t){o(e,t)}),(function(n){i[e]={status:"rejected",reason:n},0==--r&&t(i)}))}i[e]={status:"fulfilled",value:n},0==--r&&t(i)}for(var l=0;l<i.length;l++)o(l,i[l])}))};var i=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function o(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,i)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var i,r}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(o);return s(this,new d(e,t,n)),n},l.prototype.finally=t,l.all=function(e){return new l((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function l(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){l(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)l(s,i[s])}))},l.allSettled=n,l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,n){n(e)}))},l.race=function(e){return new l((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)l.resolve(e[i]).then(t,n)}))},l._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){i(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const p=l;var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e.g)return e.g;throw new Error("unable to locate global object")}();"function"!=typeof h.Promise?h.Promise=p:(h.Promise.prototype.finally||(h.Promise.prototype.finally=t),h.Promise.allSettled||(h.Promise.allSettled=n));var v={languageSelector:document.getElementById("prtz-language"),siteName:document.getElementById("site-name")},m={fr:{"create-list":"nouvelle liste","open-list":"charger une liste","site-slogan":"établir des priorités simplement",help:"aide","compute-list":"commencer","new-list-tip-1":"entrez les éléments à prioriser ci-dessus (un élément par ligne) :",confirm:"confirmer",cancel:"annuler","list-opened":"une liste est en cours de calcul. Si vous quittez maintenant, vous perdrez cette liste. Perdre la liste ?","compute-list-tip":"choisissez l'élément le plus important des deux :","compute-list-result":"voici votre liste triée :","real-time":"temps réel","estimated-time":"temps estimé","time-left":"temps restant","versions-header":"versions","versions-txt":"<p><b>version 1.1</b> (mai 2022) : première version ne contenant que la possibilité de calculer une liste de priorités.</p><p><b>version 1.2.</b> (non sortie) : ajout de la possibilité de sauvegarder des listes sur l'ordinateur de l'utilisatrice ou de l'utilisateur.</p><p><b>version 1.3</b> (non sortie) : ajout de la possibilité de sauvegarder des listes sur les serveurs de sortlists avec un compte utilisateur.</p>","features-header":"fonctionnalités prévues","features-txt":"<p>Sauvegarder une liste en cours</p><p>Charger une liste sauvegardée.</p>","contact-mail-title":"Envoyer un mail","contact-mail-txt":"<p>N'hésitez pas à envoyer un mail pour :<ul><li>proposer une traduction dans une langue qui n'existe pas;</li><li>proposer des corrections;</li><li>signaler un bug (préférez néanmoins le <a href='https://github.com/SylvainTirreau/sortlists/issues' target='_blank'>dépôt github du projet</a> pour signaler un bug);</li><li>proposer une fonctionnalité;</li><li>tout autre chose qui vous passe par la tête...</li></ul></p><p>Quand vous cliquerez sur le bouton ci-dessous, un nouveau mail s'ouvrira dans votre logiciel de messagerie habituel. Veuillez patienter que la fenêtre se charge...</p>","send-mail":"Envoyer un email","cancel-compute-list":"annuler"},en:{"create-list":"new list","open-list":"load list","site-slogan":"simply prioritize",help:"help","compute-list":"start","new-list-tip-1":"Enter items to prioritize below (one item per line):",confirm:"confirm",cancel:"cancel","cancel-compute-list":"cancel","list-opened":"a list is current computing. If you quit now, you will lost this list. Do you really want to quit?","compute-list-tip":"choose the most important item:","compute-list-result":"here is your sorted list:","real-time":"real time","estimated-time":"estimated time","time-left":"time left","versions-header":"versions","versions-txt":"<p><b>version 1.1</b> (may 2022) : first version containing only the possibility of computing a list of priorities.</p><p><b>version 1.2</b> (not released) : add the possibility to save a list on the user's computer.</p><p><b>version 1.1</b> (not released) : Add the possibility to save a list on the sortlists servers with a user account.</p>","features-header":"planned features","features-txt":"<p>Save a current list</p><p>Load a saved list.</p>","contact-mail-title":"Send an e-mail","contact-mail-txt":"<p>Feel free to send an e-mail to:<ul><li>propose a translation in a language that does not exist;</li><li>propose corrections;</li><li>report a bug (prefer <a href='https://github.com/SylvainTirreau/sortlists/issues' target='_blank'>the project's github repository</a> to report a bug);</li><li>propose a feature;</li><li>anything else that comes to mind...</li></ul></p><p>When you click on the button below, a new email will open in you usual email app. Please wait for the window to load...</p>","send-mail":"Send an e-mail"}},y=function(e){void 0===e&&(e=v.languageSelector.value),document.documentElement.lang=e,v.languageSelector.value!=e&&(v.languageSelector.value=e)},g=function(e){void 0===e&&(e=v.languageSelector.value);var t=document.getElementsByClassName("prtz-i18n");Array.from(t).forEach((function(t){t.innerHTML=m[e][t.id.split("i18n-")[1]]}))},b=function(e){var t=new Date(null);t.setSeconds(e);var n=t.toISOString().substring(11,19).split(":");return n[0]+"h "+n[1]+"mn "+n[2]+"s"},w=function(e,t){var n=JSON.stringify(t);return-1==JSON.stringify(e).indexOf(n)},L=function(e){document.querySelectorAll('*[id^="screen-"]').forEach((function(t){"screen-"+e==t.id?t.classList.contains("hide-element")&&t.classList.remove("hide-element"):t.classList.contains("hide-element")||t.classList.add("hide-element")})),v.siteName.dataset.current=e},x=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(e,t,n,i,r,o,l,s){var a,u;void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===s&&(s=null);var c=document.createElement("div");if(null!==e&&(c.id=e),null!==t)try{for(var d=x(t),f=d.next();!f.done;f=d.next()){var p=f.value;c.classList.add(p)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}if(null!==n&&(c.style.cssText=n),null!==i)for(var h in i)c.setAttribute("data-"+h,i[h]);return null!==r&&(c.innerHTML=r),null!==r&&(c.innerHTML=r),null!==o&&(c.innerText=o),null!=l&&("true"==l?c.contentEditable="true":"false"==l&&(c.contentEditable="false")),null!==s&&c.appendChild(s),c},T=function(e,t,n,i,r,o,l,s){var a,u;void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===s&&(s=null);var c=document.createElement("button");if(null!==e&&(c.id=e),null!==t)try{for(var d=x(t),f=d.next();!f.done;f=d.next()){var p=f.value;c.classList.add(p)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}if(null!==n&&(c.style.cssText=n),null!==i)for(var h in i)c.setAttribute("data-"+h,i[h]);return null!==r&&(c.title=r),null!==o&&(c.innerHTML=o),null!==o&&(c.innerHTML=o),null!==l&&(c.innerText=l),null!==s&&c.appendChild(s),c},S=function(e,t,n,i,r,o,l){var s,a;void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null);var u=document.createElement("p");if(null!==e&&(u.id=e),null!==t)try{for(var c=x(t),d=c.next();!d.done;d=c.next()){var f=d.value;u.classList.add(f)}}catch(e){s={error:e}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}if(null!==n&&(u.style.cssText=n),null!==i)for(var p in i)u.setAttribute("data-"+p,i[p]);return null!==r&&(u.innerHTML=r),null!==r&&(u.innerHTML=r),null!==o&&(u.innerText=o),null!==l&&u.appendChild(l),u},E={modalText:document.getElementById("modal-text"),modalBtnOk:document.getElementById("modal-btn-ok"),modalBtnCancel:document.getElementById("modal-btn-cancel"),screenModal:document.getElementById("screen-modal")},B=function(){function e(e){var t=this;this.loadText=function(e){var n=new Promise((function(t,n){E.modalText.innerHTML="";var i=function(e,t,n,i,r,o,l){var s,a;void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null);var u=document.createElement("span");if(null!==e&&(u.id=e),null!==t)try{for(var c=x(t),d=c.next();!d.done;d=c.next()){var f=d.value;u.classList.add(f)}}catch(e){s={error:e}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}if(null!==n&&(u.style.cssText=n),null!==i)for(var p in i)u.setAttribute("data-"+p,i[p]);return null!==r&&(u.innerHTML=r),null!==r&&(u.innerHTML=r),null!==o&&(u.innerText=o),null!==l&&u.appendChild(l),u}("i18n-"+e,["prtz-i18n"]);E.modalText.appendChild(i),t("Text inserted."),n("Text not inserted.")}));n.then((function(){g(),t.eventListenerBtns()}))},this.eventListenerBtns=function(){E.modalBtnOk.addEventListener("click",t.validation,{once:!0}),E.modalBtnCancel.addEventListener("click",t.cancel,{once:!0})},this.validation=function(){E.modalBtnCancel.removeEventListener("click",t.cancel),t.validationValue=!0},this.cancel=function(){E.modalBtnOk.removeEventListener("click",t.cancel),t.validationValue=!1},L("modal"),this.validationValue=null,this.loadText(e)}return e.prototype.waitClick=function(){var e=this;return new Promise((function(t){var n=function(){setTimeout((function(){null==e.validationValue?n():(E.screenModal.classList.add("hide-element"),t(e.validationValue))}),500)};n()}))},e}(),k=function(){function e(){this.eventListenerLanguageSelector(),this.eventListenerSiteName()}return e.prototype.askConfirmation=function(e){return t=this,n=void 0,r=function(){var t,n;return function(e,t){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return t=new B("list-opened"),n=e,[4,t.waitClick()];case 1:return n.validationResult=i.sent(),[2,this.validationResult]}}))},new((i=void 0)||(i=Promise))((function(e,o){function l(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,s)}a((r=r.apply(t,n||[])).next())}));var t,n,i,r},e.prototype.eventListenerSiteName=function(){var e=this;v.siteName.addEventListener("click",(function(t){t.target instanceof HTMLHeadingElement&&("compute-list"==t.target.dataset.current?e.askConfirmation(e).then((function(){e.validationResult?L("home"):L("compute-list")})):(t.target.dataset.current,L("home")))}))},e.prototype.eventListenerLanguageSelector=function(){v.languageSelector.addEventListener("change",(function(){y(this.value),g(this.value)}))},e}(),I={changelogLink:document.getElementById("changelog-link"),contactIcon:document.getElementById("contact-ico")},_=function(){this.eventListenerChangelog=function(){I.changelogLink.addEventListener("click",(function(e){L("changelog")}))},this.eventListenerContactIcon=function(){I.contactIcon.addEventListener("click",(function(e){L("contact")}))},this.eventListenerChangelog(),this.eventListenerContactIcon()},O={btnCreateList:document.getElementById("btn-create-list"),btnLoadList:document.getElementById("btn-load-list"),btnHelp:document.getElementById("btn-help"),screenHome:document.getElementById("screen-home"),screenComputeList:document.getElementById("screen-compute-list"),screenNewList:document.getElementById("screen-new-list")},j={newList:document.getElementById("new-list"),btnComputeList:document.getElementById("btn-compute-list")},P={combinations:document.getElementById("combinations"),timeLeft:document.getElementById("time-left"),progressBar:document.getElementById("progress"),computeListTip:document.getElementById("compute-list-tip"),computeListResult:document.getElementById("compute-list-result")},q=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},M=function(){function e(e){var t=this;this.launch=function(){t.generateAllPairs(),t.initQuestions()},this.computeCouples=function(){var e,n;t.couplesToCompute=[];var i=t.questionStep,r=t.questionStep+t.questionIter;try{for(var o=q(function(e,t,n){var i;return void 0===e&&(e=0),void 0===t&&(t=null),void 0===n&&(n=1),function(e,t){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:null==t&&(t=e,e=0),i=e,r.label=1;case 1:return i<t?[4,i]:[3,4];case 2:r.sent(),r.label=3;case 3:return i+=n,[3,1];case 4:return[2]}}))}(t.questionStep,Object.keys(t.list).length,t.questionIter)),l=o.next();!l.done;l=o.next()){l.value;var s=[i,r];-1==t.pairsComputed.indexOf(s.join("_"))&&r<=Object.keys(t.list).length&&t.couplesToCompute.push(s),i=r,r+=t.questionIter}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}t.questionIter+=1,0==t.couplesToCompute.length&&t.generateCouples()},this.generateCouples=function(){t.questionStep+t.questionIter<=Object.keys(t.list).length?t.computeCouples():t.questionStep!=Object.keys(t.list).length-1&&(t.questionStep+=1,t.questionIter=1,t.computeCouples())},this.initProgressBar=function(){P.progressBar.max=t.allPairs.length/2},this.setProgressValue=function(e){void 0===e&&(e=!1),P.progressBar.value=e?t.allPairs.length/2:t.pairsComputed.length/2},this.initQuestions=function(){var e=new Promise((function(e,n){t.generateCouples(),e("Couples generated."),n("Couples not generated.")}));e.then((function(){t.initProgressBar()})).then((function(){t.writeButtons()}))},this.writeButtons=function(){var e,n;if(P.combinations.innerHTML="",t.couplesToCompute.length>0){var i=1,r=function(e){var n;n=1==i?"show":"hidden";var r="btn-wrapper-"+i.toString(),o=e.join("_"),l=([e[1],e[0]].join("_"),C(r,["btn-wrapper","d-flex","flex-column",n])),s=C(null,["d-flex","justify-content-center"]),a=C(null,["d-flex","justify-content-center"]),u=T(null,["btn","btn-primary","btn1"],null,{id:e[0],couple:o,iter:i.toString()},null,null,t.list[e[0]]),c=T(null,["btn","btn-primary","btn2"],null,{id:e[1],couple:o,iter:i.toString()},null,null,t.list[e[1]]);u.addEventListener("click",(function(){t.computeChoiceAndLoadNext(u)})),c.addEventListener("click",(function(){t.computeChoiceAndLoadNext(c)})),s.appendChild(u),a.appendChild(c),l.appendChild(s),l.appendChild(a),P.combinations.appendChild(l),i+=1};try{for(var o=q(t.couplesToCompute),l=o.next();!l.done;l=o.next())r(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}else t.allPairs.filter((function(e){return!t.pairsComputed.includes(e)})).length/2==0?t.computePriorities():console.error("Il ne devrait pas rester des paires non calculées. Or, il en reste",t.allPairs.filter((function(e){return!t.pairsComputed.includes(e)})).length/2)},this.computeAndWriteTimeLeft=function(){var e=new Promise((function(e,n){t.computeTimeLeft(),e("Couples generated."),n("Couples not generated.")}));e.then((function(){t.writeTimeLeft()}))},this.computeTimeLeft=function(){var e=t.allPairs.filter((function(e){return!t.pairsComputed.includes(e)})).length/2*5;t.firstComputing&&(t.startDate=new Date,t.estimatedSeconds=e,t.firstComputing=!1),t.timeleft=b(e)},this.writeTimeLeft=function(e){void 0===e&&(e=!1);var n=new Promise((function(n,i){if(e){var r=new Date-t.startDate;r/=1e3,P.timeLeft.innerHTML="<span id='i18n-real-time' class='prtz-i18n' style='font-weight: bold'></span><span> : "+b(Math.round(r))+"</span><br>",P.timeLeft.innerHTML+="<span id='i18n-estimated-time' class='prtz-i18n' style='font-weight: bold'></span><span> : "+b(t.estimatedSeconds)+"</span>"}else P.timeLeft.innerHTML="<span id='i18n-time-left' class='prtz-i18n' style='font-weight: bold'></span><span> : "+t.timeleft+"</span>";n("Time left written."),i("Time left not written.")}));n.then((function(){g()}))},this.computeChoiceAndLoadNext=function(e){var n=new Promise((function(n,i){var r=e.dataset.couple.split("_"),o=[r[1],r[0]].join("_");t.recordChoice(e.dataset.couple,o,e.dataset.id),n("Couples generated."),i("Couples not generated.")}));n.then((function(){parseInt(e.dataset.iter)<=t.couplesToCompute.length-1?t.showNextCouple(e):t.computeAndLoadNextStep()})).then((function(){parseInt(e.dataset.iter)<=t.couplesToCompute.length-1&&t.applyTransitivity()})).then((function(){parseInt(e.dataset.iter)<=t.couplesToCompute.length-1&&t.setProgressValue()})).then((function(){parseInt(e.dataset.iter)<=t.couplesToCompute.length-1&&t.computeAndWriteTimeLeft()}))},this.recordChoice=function(e,n,i){var r=e.split("_");r[0]==i?t.pairSequences.push([r[0],r[1]]):t.pairSequences.push([r[1],r[0]]),-1==t.pairsComputed.indexOf(e)&&t.pairsComputed.push(e),-1==t.pairsComputed.indexOf(n)&&t.pairsComputed.push(n)},this.computeAndLoadNextStep=function(){var e=new Promise((function(e,n){t.applyTransitivity(),e("Couples generated."),n("Couples not generated.")}));e.then((function(){t.initQuestions()}))},this.hasTransitivity=function(){var e,n,i,r;try{for(var o=q(t.pairSequences),l=o.next();!l.done;l=o.next()){var s=l.value;try{for(var a=(i=void 0,q(t.pairSequences)),u=a.next();!u.done;u=a.next()){var c=u.value;if(c!=s&&s[1]==c[0]&&w(t.pairSequences,[s[0],c[1]]))return!0}}catch(e){i={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1},this.computeTransitiveElements=function(e){var n,i;try{for(var r=q(t.pairSequences),o=r.next();!o.done;o=r.next()){var l=o.value;if(l!=e&&e[1]==l[0]){var s=e[0]+"_"+l[1],a=l[1]+"_"+e[0];-1==t.pairsComputed.indexOf(s)&&t.pairsComputed.push(s),-1==t.pairsComputed.indexOf(a)&&t.pairsComputed.push(a),w(t.pairSequences,[e[0],l[1]])&&t.pairSequences.push([e[0],l[1]])}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},this.applyTransitivity=function(){var e,n;if(t.hasTransitivity()){var i=JSON.parse(JSON.stringify(t.pairSequences));try{for(var r=q(i),o=r.next();!o.done;o=r.next()){var l=o.value;t.computeTransitiveElements(l)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.applyTransitivity()}},this.computePriorities=function(){var e=new Promise((function(e,n){t.sortResults(),e("Results sorted."),n("Results not sorted.")}));e.then((function(){t.getLoosers()})).then((function(){t.comfortLooser()})).then((function(){t.hasDuplicate()?console.warn("Finally there is duplicates. Fix it."):t.writeResults()}))},this.hasDuplicate=function(){var e=[];for(var n in t.results){if(-1!=e.indexOf(t.results[n]))return!0;e.push(t.results[n])}return!1},this.sortResults=function(){var e,n;try{for(var i=q(t.pairSequences),r=i.next();!r.done;r=i.next()){var o=r.value;-1==Object.keys(t.results).indexOf(o[0])?t.results[o[0]]=1:t.results[o[0]]+=1}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},this.writeResults=function(){var e,n,i=Object.entries(t.results).sort((function(e,t){return t[1]-e[1]})),r=1;P.combinations.innerHTML="";try{for(var o=q(i),l=o.next();!l.done;l=o.next()){var s=l.value,a=S(null,null,null,null,null,r.toString()+" - "+t.list[s[0].toString()]);P.combinations.appendChild(a),r+=1}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}t.setProgressValue(!0),t.writeTimeLeft(!0),P.computeListTip.classList.add("hide-element"),P.computeListResult.classList.remove("hide-element")},this.comfortLooser=function(){var e,n;if(t.loosers.length>0)try{for(var i=q(t.loosers),r=i.next();!r.done;r=i.next()){var o=r.value;t.results[o]=0}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},this.getLoosers=function(){if(Object.keys(t.list).length>Object.keys(t.results).length)for(var e in t.list)-1==Object.keys(t.results).indexOf(e)&&t.loosers.push(e)},this.list=e,this.pairsComputed=[],this.pairsTransitivityApplied=[],this.couplesToCompute=[],this.pairSequences=[],this.finalSequences=[],this.allPairs=[],this.questionStep=1,this.questionIter=1,this.results={},this.loosers=[],this.estimatedSeconds=0,this.firstComputing=!0,P.timeLeft.innerHTML=""}return e.prototype.generateAllPairs=function(){var e,t,n,i=(n=Object.keys(this.list)).flatMap((function(e){return n.flatMap((function(t){return e!=t?[[e,t]]:[]}))}));try{for(var r=q(i),o=r.next();!o.done;o=r.next()){var l=o.value.join("_");this.allPairs.push(l)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.showNextCouple=function(e){var t=parseInt(e.dataset.iter),n=t+1,i=document.getElementById("btn-wrapper-"+t.toString()),r=document.getElementById("btn-wrapper-"+n.toString());i.classList.remove("show"),i.classList.add("hidden"),r.classList.remove("hidden"),r.classList.add("show")},e}(),H=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},N=function(){var e=this;this.eventListenerOutsideTextarea=function(t){j.newList.contains(t.target)||e.disableTextarea()},this.disableTextarea=function(){j.newList.classList.add("inactive"),j.newList.blur(),j.newList.readOnly=!0,window.removeEventListener("click",e.eventListenerOutsideTextarea)},this.eventListenerTextarea=function(){j.newList.addEventListener("dblclick",(function(t){j.newList.classList.contains("inactive")?(j.newList.classList.remove("inactive"),j.newList.readOnly=!1,window.addEventListener("click",e.eventListenerOutsideTextarea)):e.disableTextarea()})),j.newList.addEventListener("input",(function(t){var n,i,r=!1,o=j.newList.value,l=o.split("\n");try{for(var s=H(l),a=s.next();!a.done;a=s.next())""==a.value&&(r=!0)}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}-1!=o.indexOf("\n")&&!r&&l.length>=3?(j.btnComputeList.disabled=!1,j.btnComputeList.addEventListener("click",e.eventListenerComputeBtn)):(j.btnComputeList.disabled=!0,j.btnComputeList.removeEventListener("click",e.eventListenerComputeBtn))}))},this.buildList=function(){var e,t;if(-1!=j.newList.value.indexOf("\n")){var n=j.newList.value.split("\n"),i={},r=1;try{for(var o=H(n),l=o.next();!l.done;l=o.next()){var s=l.value;""!=s&&(i[r.toString()]=s,r+=1)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i}return console.error("Il n'y a pas de saut de ligne détecté !"),null},this.eventListenerComputeBtn=function(t){var n;L("compute-list");var i=new Promise((function(t,i){n=e.buildList(),t("List built."),i("List not built.")}));i.then((function(){new M(n).launch()}))},j.newList.value="",this.eventListenerTextarea()},A=function(){this.eventListenerNewList=function(){O.btnCreateList.addEventListener("click",(function(){new N,L("new-list")}))},this.eventListenerNewList()},z={changelogClose:document.getElementById("changelog-close")},R=function(){this.eventListenerCloseBtn=function(){z.changelogClose.addEventListener("click",(function(){L("home")}))},this.eventListenerCloseBtn()},F={contactClose:document.getElementById("contact-close"),sendMailBtn:document.getElementById("send-mail-btn")},D=function(){this.eventListenerSendMail=function(){F.sendMailBtn.addEventListener("click",(function(){var e;e=atob("c3lsdmFpbkBzb3J0bGlzdHMuYXBw"),window.location.href="mailto:"+e}))},this.eventListenerCloseBtn=function(){F.contactClose.addEventListener("click",(function(){L("home")}))},this.eventListenerSendMail(),this.eventListenerCloseBtn()};window.addEventListener("DOMContentLoaded",(function(e){(new J).start()}));var V=window.navigator,J=function(){function e(){this.header=new k,this.footer=new _,this.home=new A,this.changelog=new R,this.contact=new D;var e=V.userLanguage||window.navigator.language;this.userLanguage=e.split("-")[0]}return e.prototype.start=function(){-1!=Object.keys(m).indexOf(this.userLanguage)?y(this.userLanguage):y(),g()},e}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPQyxLQUFLakgsR0FBZ0IwQixRQUFRbEcsS0FBS21TLGNBQXVCMU4sRUFBZ0J6RSxLQUFLbVMsY0FBZ0IxTixJQUN0R0csS0FFUixFQXRCQSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9maW5hbGx5LmpzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9hbGxTZXR0bGVkLmpzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvaGVhZGVyL2RvbS50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9sYW5nL21haW4udHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvbGFuZy90cmFuc2xhdGlvbnMvZnIudHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvbGFuZy90cmFuc2xhdGlvbnMvZW4udHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvY29tbW9ucy91dGlscy50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9jb21tb25zL2RvbS50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9tb2RhbC9kb20udHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvbW9kYWwvbWFpbi50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9oZWFkZXIvbWFpbi50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9mb290ZXIvZG9tLnRzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL3NyYy90eXBlc2NyaXB0L2Zvb3Rlci9tYWluLnRzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL3NyYy90eXBlc2NyaXB0L2hvbWUvZG9tLnRzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL3NyYy90eXBlc2NyaXB0L25ld0xpc3QvZG9tLnRzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL3NyYy90eXBlc2NyaXB0L2NvbXB1dGVMaXN0L2RvbS50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9jb21wdXRlTGlzdC9tYWluLnRzIiwid2VicGFjazovL3ByaW9yaXRpemVyLXdlYmFwcC8uL3NyYy90eXBlc2NyaXB0L25ld0xpc3QvbWFpbi50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9ob21lL21haW4udHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL3R5cGVzY3JpcHQvY2hhbmdlbG9nL2RvbS50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9jaGFuZ2Vsb2cvbWFpbi50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9jb250YWN0L2RvbS50cyIsIndlYnBhY2s6Ly9wcmlvcml0aXplci13ZWJhcHAvLi9zcmMvdHlwZXNjcmlwdC9jb250YWN0L21haW4udHMiLCJ3ZWJwYWNrOi8vcHJpb3JpdGl6ZXItd2ViYXBwLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiLyoqXG4gKiBAdGhpcyB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gZmluYWxseUNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluYWxseUNvbnN0cnVjdG9yO1xuIiwiZnVuY3Rpb24gYWxsU2V0dGxlZChhcnIpIHtcbiAgdmFyIFAgPSB0aGlzO1xuICByZXR1cm4gbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCEoYXJyICYmIHR5cGVvZiBhcnIubGVuZ3RoICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgdHlwZW9mIGFyciArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgYXJyICtcbiAgICAgICAgICAgICcgaXMgbm90IGl0ZXJhYmxlKGNhbm5vdCByZWFkIHByb3BlcnR5IFN5bWJvbChTeW1ib2wuaXRlcmF0b3IpKSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGFyZ3NbaV0gPSB7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uOiBlIH07XG4gICAgICAgICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IHsgc3RhdHVzOiAnZnVsZmlsbGVkJywgdmFsdWU6IHZhbCB9O1xuICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWxsU2V0dGxlZDtcbiIsImltcG9ydCBwcm9taXNlRmluYWxseSBmcm9tICcuL2ZpbmFsbHknO1xuaW1wb3J0IGFsbFNldHRsZWQgZnJvbSAnLi9hbGxTZXR0bGVkJztcblxuLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gcHJvbWlzZS1wb2x5ZmlsbCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbi8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxudmFyIHNldFRpbWVvdXRGdW5jID0gc2V0VGltZW91dDtcblxuZnVuY3Rpb24gaXNBcnJheSh4KSB7XG4gIHJldHVybiBCb29sZWFuKHggJiYgdHlwZW9mIHgubGVuZ3RoICE9PSAndW5kZWZpbmVkJyk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBQb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSAqL1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIC8qKiBAdHlwZSB7IWJvb2xlYW59ICovXG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgLyoqIEB0eXBlIHtQcm9taXNlfHVuZGVmaW5lZH0gKi9cbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIC8qKiBAdHlwZSB7IUFycmF5PCFGdW5jdGlvbj59ICovXG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgaWYgKFxuICAgICAgbmV3VmFsdWUgJiZcbiAgICAgICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLl9zdGF0ZSA9IDE7XG4gICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBmaW5hbGUoc2VsZik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3Qoc2VsZiwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuX3N0YXRlID0gMjtcbiAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLl9oYW5kbGVkKSB7XG4gICAgICAgIFByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcbiAgfVxuICBzZWxmLl9kZWZlcnJlZHMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG4gIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG59XG5cbi8qKlxuICogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKGZuLCBzZWxmKSB7XG4gIHZhciBkb25lID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgZm4oXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZWplY3Qoc2VsZiwgcmVhc29uKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChleCkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHNlbGYsIGV4KTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHZhciBwcm9tID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSA9IHByb21pc2VGaW5hbGx5O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3NbaV0gPSB2YWw7XG4gICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5yYWNlIGFjY2VwdHMgYW4gYXJyYXknKSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGFycltpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBVc2UgcG9seWZpbGwgZm9yIHNldEltbWVkaWF0ZSBmb3IgcGVyZm9ybWFuY2UgZ2FpbnNcblByb21pc2UuX2ltbWVkaWF0ZUZuID1cbiAgLy8gQHRzLWlnbm9yZVxuICAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH0pIHx8XG4gIGZ1bmN0aW9uKGZuKSB7XG4gICAgc2V0VGltZW91dEZ1bmMoZm4sIDApO1xuICB9O1xuXG5Qcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIF91bmhhbmRsZWRSZWplY3Rpb25GbihlcnIpIHtcbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb21pc2U7XG4iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2luZGV4JztcbmltcG9ydCBwcm9taXNlRmluYWxseSBmcm9tICcuL2ZpbmFsbHknO1xuaW1wb3J0IGFsbFNldHRsZWQgZnJvbSAnLi9hbGxTZXR0bGVkJztcblxuLyoqIEBzdXBwcmVzcyB7dW5kZWZpbmVkVmFyc30gKi9cbnZhciBnbG9iYWxOUyA9IChmdW5jdGlvbigpIHtcbiAgLy8gdGhlIG9ubHkgcmVsaWFibGUgbWVhbnMgdG8gZ2V0IHRoZSBnbG9iYWwgb2JqZWN0IGlzXG4gIC8vIGBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpYFxuICAvLyBIb3dldmVyLCB0aGlzIGNhdXNlcyBDU1AgdmlvbGF0aW9ucyBpbiBDaHJvbWUgYXBwcy5cbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGdsb2JhbDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCcpO1xufSkoKTtcblxuLy8gRXhwb3NlIHRoZSBwb2x5ZmlsbCBpZiBQcm9taXNlIGlzIHVuZGVmaW5lZCBvciBzZXQgdG8gYVxuLy8gbm9uLWZ1bmN0aW9uIHZhbHVlLiBUaGUgbGF0dGVyIGNhbiBiZSBkdWUgdG8gYSBuYW1lZCBIVE1MRWxlbWVudFxuLy8gYmVpbmcgZXhwb3NlZCBieSBicm93c2VycyBmb3IgbGVnYWN5IHJlYXNvbnMuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGF5bG9yaGFrZXMvcHJvbWlzZS1wb2x5ZmlsbC9pc3N1ZXMvMTE0XG5pZiAodHlwZW9mIGdsb2JhbE5TWydQcm9taXNlJ10gIT09ICdmdW5jdGlvbicpIHtcbiAgZ2xvYmFsTlNbJ1Byb21pc2UnXSA9IFByb21pc2U7XG59IGVsc2Uge1xuICBpZiAoIWdsb2JhbE5TLlByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10pIHtcbiAgICBnbG9iYWxOUy5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gcHJvbWlzZUZpbmFsbHk7XG4gIH0gXG4gIGlmICghZ2xvYmFsTlMuUHJvbWlzZS5hbGxTZXR0bGVkKSB7XG4gICAgZ2xvYmFsTlMuUHJvbWlzZS5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIGxhbmd1YWdlU2VsZWN0b3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcnR6LWxhbmd1YWdlJyksXG4gICAgc2l0ZU5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaXRlLW5hbWUnKSxcbn0iLCJpbXBvcnQge3RleHRzIGFzIHRleHRzRnJ9IGZyb20gXCIuL3RyYW5zbGF0aW9ucy9mclwiO1xuaW1wb3J0IHt0ZXh0cyBhcyB0ZXh0c0VufSBmcm9tIFwiLi90cmFuc2xhdGlvbnMvZW5cIjtcbmltcG9ydCB7ZWxlbWVudHMgYXMgZWxlbWVudHNIZWFkZXJ9IGZyb20gXCIuLi9oZWFkZXIvZG9tXCI7XG5cbmV4cG9ydCBjb25zdCBsb2NhbGVzTWFwcGluZzoge1tpbmRleDpzdHJpbmddOiBhbnl9ID0ge1xuICAgICdmcic6IHRleHRzRnIsXG4gICAgJ2VuJzogdGV4dHNFblxufVxuXG5leHBvcnQgY29uc3Qgc2V0UGFnZUxhbmd1YWdlID0gKGxhbmc6IHN0cmluZz0oPEhUTUxTZWxlY3RFbGVtZW50PmVsZW1lbnRzSGVhZGVyLmxhbmd1YWdlU2VsZWN0b3IpLnZhbHVlKSA9PiB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcgPSBsYW5nO1xuICAgIGlmICgoPEhUTUxTZWxlY3RFbGVtZW50PmVsZW1lbnRzSGVhZGVyLmxhbmd1YWdlU2VsZWN0b3IpLnZhbHVlICE9IGxhbmcpICg8SFRNTFNlbGVjdEVsZW1lbnQ+ZWxlbWVudHNIZWFkZXIubGFuZ3VhZ2VTZWxlY3RvcikudmFsdWUgPSBsYW5nO1xufVxuXG5leHBvcnQgY29uc3QgbG9hZFRleHRzID0gKGxhbmc6IHN0cmluZz0oPEhUTUxTZWxlY3RFbGVtZW50PmVsZW1lbnRzSGVhZGVyLmxhbmd1YWdlU2VsZWN0b3IpLnZhbHVlKSA9PiB7XG4gICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJ0ei1pMThuJyk7XG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGxvY2FsZXNNYXBwaW5nW2xhbmddW2VsZW1lbnQuaWQuc3BsaXQoJ2kxOG4tJylbMV1dO1xuICAgIH0pO1xufSIsImV4cG9ydCBjb25zdCB0ZXh0cyA9IHtcbiAgICBcImNyZWF0ZS1saXN0XCI6IFwibm91dmVsbGUgbGlzdGVcIixcbiAgICBcIm9wZW4tbGlzdFwiOiBcImNoYXJnZXIgdW5lIGxpc3RlXCIsXG4gICAgXCJzaXRlLXNsb2dhblwiOiBcIsOpdGFibGlyIGRlcyBwcmlvcml0w6lzIHNpbXBsZW1lbnRcIixcbiAgICBcImhlbHBcIjogXCJhaWRlXCIsXG4gICAgXCJjb21wdXRlLWxpc3RcIjogXCJjb21tZW5jZXJcIixcbiAgICBcIm5ldy1saXN0LXRpcC0xXCI6IFwiZW50cmV6IGxlcyDDqWzDqW1lbnRzIMOgIHByaW9yaXNlciBjaS1kZXNzdXMgKHVuIMOpbMOpbWVudCBwYXIgbGlnbmUpIDpcIixcbiAgICBcImNvbmZpcm1cIjogXCJjb25maXJtZXJcIixcbiAgICBcImNhbmNlbFwiOiBcImFubnVsZXJcIixcbiAgICBcImxpc3Qtb3BlbmVkXCI6IFwidW5lIGxpc3RlIGVzdCBlbiBjb3VycyBkZSBjYWxjdWwuIFNpIHZvdXMgcXVpdHRleiBtYWludGVuYW50LCB2b3VzIHBlcmRyZXogY2V0dGUgbGlzdGUuIFBlcmRyZSBsYSBsaXN0ZSA/XCIsXG4gICAgXCJjb21wdXRlLWxpc3QtdGlwXCI6IFwiY2hvaXNpc3NleiBsJ8OpbMOpbWVudCBsZSBwbHVzIGltcG9ydGFudCBkZXMgZGV1eCA6XCIsXG4gICAgXCJjb21wdXRlLWxpc3QtcmVzdWx0XCI6IFwidm9pY2kgdm90cmUgbGlzdGUgdHJpw6llIDpcIixcbiAgICBcInJlYWwtdGltZVwiOiBcInRlbXBzIHLDqWVsXCIsXG4gICAgXCJlc3RpbWF0ZWQtdGltZVwiOiBcInRlbXBzIGVzdGltw6lcIixcbiAgICBcInRpbWUtbGVmdFwiOiBcInRlbXBzIHJlc3RhbnRcIixcbiAgICBcInZlcnNpb25zLWhlYWRlclwiOiBcInZlcnNpb25zXCIsXG4gICAgXCJ2ZXJzaW9ucy10eHRcIjogXCI8cD48Yj52ZXJzaW9uIDEuMTwvYj4gKG1haSAyMDIyKSA6IHByZW1pw6hyZSB2ZXJzaW9uIG5lIGNvbnRlbmFudCBxdWUgbGEgcG9zc2liaWxpdMOpIGRlIGNhbGN1bGVyIHVuZSBsaXN0ZSBkZSBwcmlvcml0w6lzLjwvcD48cD48Yj52ZXJzaW9uIDEuMi48L2I+IChub24gc29ydGllKSA6IGFqb3V0IGRlIGxhIHBvc3NpYmlsaXTDqSBkZSBzYXV2ZWdhcmRlciBkZXMgbGlzdGVzIHN1ciBsJ29yZGluYXRldXIgZGUgbCd1dGlsaXNhdHJpY2Ugb3UgZGUgbCd1dGlsaXNhdGV1ci48L3A+PHA+PGI+dmVyc2lvbiAxLjM8L2I+IChub24gc29ydGllKSA6IGFqb3V0IGRlIGxhIHBvc3NpYmlsaXTDqSBkZSBzYXV2ZWdhcmRlciBkZXMgbGlzdGVzIHN1ciBsZXMgc2VydmV1cnMgZGUgc29ydGxpc3RzIGF2ZWMgdW4gY29tcHRlIHV0aWxpc2F0ZXVyLjwvcD5cIixcbiAgICBcImZlYXR1cmVzLWhlYWRlclwiOiBcImZvbmN0aW9ubmFsaXTDqXMgcHLDqXZ1ZXNcIixcbiAgICBcImZlYXR1cmVzLXR4dFwiOiBcIjxwPlNhdXZlZ2FyZGVyIHVuZSBsaXN0ZSBlbiBjb3VyczwvcD48cD5DaGFyZ2VyIHVuZSBsaXN0ZSBzYXV2ZWdhcmTDqWUuPC9wPlwiLFxuICAgIFwiY29udGFjdC1tYWlsLXRpdGxlXCI6IFwiRW52b3llciB1biBtYWlsXCIsXG4gICAgXCJjb250YWN0LW1haWwtdHh0XCI6IFwiPHA+Tidow6lzaXRleiBwYXMgw6AgZW52b3llciB1biBtYWlsIHBvdXIgOjx1bD48bGk+cHJvcG9zZXIgdW5lIHRyYWR1Y3Rpb24gZGFucyB1bmUgbGFuZ3VlIHF1aSBuJ2V4aXN0ZSBwYXM7PC9saT48bGk+cHJvcG9zZXIgZGVzIGNvcnJlY3Rpb25zOzwvbGk+PGxpPnNpZ25hbGVyIHVuIGJ1ZyAocHLDqWbDqXJleiBuw6lhbm1vaW5zIGxlIDxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9TeWx2YWluVGlycmVhdS9zb3J0bGlzdHMvaXNzdWVzJyB0YXJnZXQ9J19ibGFuayc+ZMOpcMO0dCBnaXRodWIgZHUgcHJvamV0PC9hPiBwb3VyIHNpZ25hbGVyIHVuIGJ1Zyk7PC9saT48bGk+cHJvcG9zZXIgdW5lIGZvbmN0aW9ubmFsaXTDqTs8L2xpPjxsaT50b3V0IGF1dHJlIGNob3NlIHF1aSB2b3VzIHBhc3NlIHBhciBsYSB0w6p0ZS4uLjwvbGk+PC91bD48L3A+PHA+UXVhbmQgdm91cyBjbGlxdWVyZXogc3VyIGxlIGJvdXRvbiBjaS1kZXNzb3VzLCB1biBub3V2ZWF1IG1haWwgcydvdXZyaXJhIGRhbnMgdm90cmUgbG9naWNpZWwgZGUgbWVzc2FnZXJpZSBoYWJpdHVlbC4gVmV1aWxsZXogcGF0aWVudGVyIHF1ZSBsYSBmZW7DqnRyZSBzZSBjaGFyZ2UuLi48L3A+XCIsXG4gICAgXCJzZW5kLW1haWxcIjogXCJFbnZveWVyIHVuIGVtYWlsXCIsXG4gICAgXCJjYW5jZWwtY29tcHV0ZS1saXN0XCI6IFwiYW5udWxlclwiXG59IiwiZXhwb3J0IGNvbnN0IHRleHRzID0ge1xuICAgIFwiY3JlYXRlLWxpc3RcIjogXCJuZXcgbGlzdFwiLFxuICAgIFwib3Blbi1saXN0XCI6IFwibG9hZCBsaXN0XCIsXG4gICAgXCJzaXRlLXNsb2dhblwiOiBcInNpbXBseSBwcmlvcml0aXplXCIsXG4gICAgXCJoZWxwXCI6IFwiaGVscFwiLFxuICAgIFwiY29tcHV0ZS1saXN0XCI6IFwic3RhcnRcIixcbiAgICBcIm5ldy1saXN0LXRpcC0xXCI6IFwiRW50ZXIgaXRlbXMgdG8gcHJpb3JpdGl6ZSBiZWxvdyAob25lIGl0ZW0gcGVyIGxpbmUpOlwiLFxuICAgIFwiY29uZmlybVwiOiBcImNvbmZpcm1cIixcbiAgICBcImNhbmNlbFwiOiBcImNhbmNlbFwiLFxuICAgIFwiY2FuY2VsLWNvbXB1dGUtbGlzdFwiOiBcImNhbmNlbFwiLFxuICAgIFwibGlzdC1vcGVuZWRcIjogXCJhIGxpc3QgaXMgY3VycmVudCBjb21wdXRpbmcuIElmIHlvdSBxdWl0IG5vdywgeW91IHdpbGwgbG9zdCB0aGlzIGxpc3QuIERvIHlvdSByZWFsbHkgd2FudCB0byBxdWl0P1wiLFxuICAgIFwiY29tcHV0ZS1saXN0LXRpcFwiOiBcImNob29zZSB0aGUgbW9zdCBpbXBvcnRhbnQgaXRlbTpcIixcbiAgICBcImNvbXB1dGUtbGlzdC1yZXN1bHRcIjogXCJoZXJlIGlzIHlvdXIgc29ydGVkIGxpc3Q6XCIsXG4gICAgXCJyZWFsLXRpbWVcIjogXCJyZWFsIHRpbWVcIixcbiAgICBcImVzdGltYXRlZC10aW1lXCI6IFwiZXN0aW1hdGVkIHRpbWVcIixcbiAgICBcInRpbWUtbGVmdFwiOiBcInRpbWUgbGVmdFwiLFxuICAgIFwidmVyc2lvbnMtaGVhZGVyXCI6IFwidmVyc2lvbnNcIixcbiAgICBcInZlcnNpb25zLXR4dFwiOiBcIjxwPjxiPnZlcnNpb24gMS4xPC9iPiAobWF5IDIwMjIpIDogZmlyc3QgdmVyc2lvbiBjb250YWluaW5nIG9ubHkgdGhlIHBvc3NpYmlsaXR5IG9mIGNvbXB1dGluZyBhIGxpc3Qgb2YgcHJpb3JpdGllcy48L3A+PHA+PGI+dmVyc2lvbiAxLjI8L2I+IChub3QgcmVsZWFzZWQpIDogYWRkIHRoZSBwb3NzaWJpbGl0eSB0byBzYXZlIGEgbGlzdCBvbiB0aGUgdXNlcidzIGNvbXB1dGVyLjwvcD48cD48Yj52ZXJzaW9uIDEuMTwvYj4gKG5vdCByZWxlYXNlZCkgOiBBZGQgdGhlIHBvc3NpYmlsaXR5IHRvIHNhdmUgYSBsaXN0IG9uIHRoZSBzb3J0bGlzdHMgc2VydmVycyB3aXRoIGEgdXNlciBhY2NvdW50LjwvcD5cIixcbiAgICBcImZlYXR1cmVzLWhlYWRlclwiOiBcInBsYW5uZWQgZmVhdHVyZXNcIixcbiAgICBcImZlYXR1cmVzLXR4dFwiOiBcIjxwPlNhdmUgYSBjdXJyZW50IGxpc3Q8L3A+PHA+TG9hZCBhIHNhdmVkIGxpc3QuPC9wPlwiLFxuICAgIFwiY29udGFjdC1tYWlsLXRpdGxlXCI6IFwiU2VuZCBhbiBlLW1haWxcIixcbiAgICBcImNvbnRhY3QtbWFpbC10eHRcIjogXCI8cD5GZWVsIGZyZWUgdG8gc2VuZCBhbiBlLW1haWwgdG86PHVsPjxsaT5wcm9wb3NlIGEgdHJhbnNsYXRpb24gaW4gYSBsYW5ndWFnZSB0aGF0IGRvZXMgbm90IGV4aXN0OzwvbGk+PGxpPnByb3Bvc2UgY29ycmVjdGlvbnM7PC9saT48bGk+cmVwb3J0IGEgYnVnIChwcmVmZXIgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1N5bHZhaW5UaXJyZWF1L3NvcnRsaXN0cy9pc3N1ZXMnIHRhcmdldD0nX2JsYW5rJz50aGUgcHJvamVjdCdzIGdpdGh1YiByZXBvc2l0b3J5PC9hPiB0byByZXBvcnQgYSBidWcpOzwvbGk+PGxpPnByb3Bvc2UgYSBmZWF0dXJlOzwvbGk+PGxpPmFueXRoaW5nIGVsc2UgdGhhdCBjb21lcyB0byBtaW5kLi4uPC9saT48L3VsPjwvcD48cD5XaGVuIHlvdSBjbGljayBvbiB0aGUgYnV0dG9uIGJlbG93LCBhIG5ldyBlbWFpbCB3aWxsIG9wZW4gaW4geW91IHVzdWFsIGVtYWlsIGFwcC4gUGxlYXNlIHdhaXQgZm9yIHRoZSB3aW5kb3cgdG8gbG9hZC4uLjwvcD5cIixcbiAgICBcInNlbmQtbWFpbFwiOiBcIlNlbmQgYW4gZS1tYWlsXCJcbn0iLCJpbXBvcnQge2VsZW1lbnRzIGFzIGVsZW1lbnRzSGVhZGVyfSBmcm9tIFwiLi4vaGVhZGVyL2RvbVwiO1xuaW1wb3J0IHtlbGVtZW50cyBhcyBlbGVtZW50c05ld0xpc3R9IGZyb20gXCIuLi9uZXdMaXN0L2RvbVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsUGFpcnMgPSAoYXJyYXk6IHN0cmluZ1tdKSA9PiB7XG5cbiAgICByZXR1cm4gYXJyYXkuZmxhdE1hcCgoeCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXkuZmxhdE1hcCgoeSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh4ICE9IHkpID8gW1t4LCB5XV0gOiBbXVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IHRvVGltZSA9IChzZWNvbmRzOiBhbnkpID0+IHtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKG51bGwpO1xuICAgIGRhdGUuc2V0U2Vjb25kcyhzZWNvbmRzKTtcbiAgICBsZXQgcmVzdWx0ID0gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cmluZygxMSwgMTkpLnNwbGl0KCc6Jyk7XG4gICAgcmV0dXJuIHJlc3VsdFswXSArICdoICcgKyByZXN1bHRbMV0gKyBcIm1uIFwiICsgcmVzdWx0WzJdICsgXCJzXCI7XG59XG5cbmV4cG9ydCBjb25zdCBhcnJheU5vdEluSW5BcnJheSA9IChhcnI6IFtzdHJpbmcsIHN0cmluZ11bXSwgaXRlbTogW3N0cmluZywgc3RyaW5nXSkgPT4ge1xuICAgIGxldCBpdGVtX2FzX3N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuICAgIGxldCBhcnJheV9hc19zdHJpbmcgPSBKU09OLnN0cmluZ2lmeShhcnIpO1xuXG4gICAgcmV0dXJuIChhcnJheV9hc19zdHJpbmcuaW5kZXhPZihpdGVtX2FzX3N0cmluZykgPT0gLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIHJhbmdlKHN0YXJ0OiBudW1iZXIgPSAwLCBlbmQ6IG51bWJlciA9IG51bGwsIHN0ZXA6IG51bWJlciA9IDEpIHtcbiAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gc3RlcCkge1xuICAgICAgICB5aWVsZCBpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNob3dTY3JlZW4gPSAoc2NyZWVuOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgc2NyZWVucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJypbaWRePVwic2NyZWVuLVwiXScpO1xuICAgIHNjcmVlbnMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoXCJzY3JlZW4tXCIgKyBzY3JlZW4gPT0gZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWVsZW1lbnQnKSkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWVsZW1lbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtZWxlbWVudCcpKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGUtZWxlbWVudCcpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICBlbGVtZW50c0hlYWRlci5zaXRlTmFtZS5kYXRhc2V0LmN1cnJlbnQgPSBzY3JlZW47XG59XG5cbmV4cG9ydCBjb25zdCBzZW5kRW1haWwgPSAodG9rZW46c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBsZXQgYWRkcmVzcyA9IGF0b2IodG9rZW4pO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIm1haWx0bzpcIiArIGFkZHJlc3M7XG4gICAgICAgIH0iLCJleHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGlkOiBzdHJpbmcgPSBudWxsLCBjbGFzc2VzOiBzdHJpbmdbXSA9IG51bGwsIHN0eWxlczogc3RyaW5nID0gbnVsbCwgZGF0YXNldDogeyBbaW5kZXg6IHN0cmluZ106IHN0cmluZyB9ID0gbnVsbCwgaW5uZXJIVE1MOiBzdHJpbmcgPSBudWxsLCBpbm5lclR4dDogc3RyaW5nID0gbnVsbCwgY29udGVudEVkaXRhYmxlOiBzdHJpbmcgPSBudWxsLCBub2RlOiBIVE1MRWxlbWVudCA9IG51bGwpID0+IHtcbiAgICBsZXQgZGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICBkaXYuaWQgPSBpZFxuICAgIH1cbiAgICBpZiAoY2xhc3NlcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSBzdHlsZXM7XG4gICAgfVxuICAgIGlmIChkYXRhc2V0ICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGQgaW4gZGF0YXNldCkge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS0nICsgZCwgZGF0YXNldFtkXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlubmVySFRNTCAhPT0gbnVsbCkge1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG4gICAgfVxuICAgIGlmIChpbm5lclR4dCAhPT0gbnVsbCkge1xuICAgICAgICBkaXYuaW5uZXJUZXh0ID0gaW5uZXJUeHQ7XG4gICAgfVxuICAgIGlmIChjb250ZW50RWRpdGFibGUgIT0gbnVsbCkge1xuICAgICAgICBpZiAoY29udGVudEVkaXRhYmxlID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBkaXYuY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgZGl2LmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBkaXY7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCdXR0b24gPSAoaWQ6IHN0cmluZyA9IG51bGwsIGNsYXNzZXM6IHN0cmluZ1tdID0gbnVsbCwgc3R5bGVzOiBzdHJpbmcgPSBudWxsLCBkYXRhc2V0OiB7IFtpbmRleDogc3RyaW5nXTogc3RyaW5nIH0gPSBudWxsLCB0aXRsZTogc3RyaW5nID0gbnVsbCwgaW5uZXJIVE1MOiBzdHJpbmcgPSBudWxsLCBpbm5lclR4dDogc3RyaW5nID0gbnVsbCwgbm9kZTogSFRNTEVsZW1lbnQgPSBudWxsKSA9PiB7XG4gICAgbGV0IGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgYnV0dG9uLmlkID0gaWRcbiAgICB9XG4gICAgaWYgKGNsYXNzZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjbGFzc2VzKSB7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gc3R5bGVzO1xuICAgIH1cbiAgICBpZiAoZGF0YXNldCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBkIGluIGRhdGFzZXQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGQsIGRhdGFzZXRbZF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0aXRsZSAhPT0gbnVsbCkge1xuICAgICAgICBidXR0b24udGl0bGUgPSB0aXRsZTtcbiAgICB9XG4gICAgaWYgKGlubmVySFRNTCAhPT0gbnVsbCkge1xuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG4gICAgfVxuICAgIGlmIChpbm5lclR4dCAhPT0gbnVsbCkge1xuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gaW5uZXJUeHQ7XG4gICAgfVxuICAgIGlmIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1dHRvbjtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBhcmFncmFwaCA9IChpZDogc3RyaW5nID0gbnVsbCwgY2xhc3Nlczogc3RyaW5nW10gPSBudWxsLCBzdHlsZXM6IHN0cmluZyA9IG51bGwsIGRhdGFzZXQ6IHsgW2luZGV4OiBzdHJpbmddOiBzdHJpbmcgfSA9IG51bGwsIGlubmVySFRNTDogc3RyaW5nID0gbnVsbCwgaW5uZXJUeHQ6IHN0cmluZyA9IG51bGwsIG5vZGU6IEhUTUxFbGVtZW50ID0gbnVsbCkgPT4ge1xuICAgIGxldCBwOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgcC5pZCA9IGlkXG4gICAgfVxuICAgIGlmIChjbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY2xhc3Nlcykge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgcC5zdHlsZS5jc3NUZXh0ID0gc3R5bGVzO1xuICAgIH1cbiAgICBpZiAoZGF0YXNldCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBkIGluIGRhdGFzZXQpIHtcbiAgICAgICAgICAgIHAuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBkLCBkYXRhc2V0W2RdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIHAuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIHAuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJUeHQgIT09IG51bGwpIHtcbiAgICAgICAgcC5pbm5lclRleHQgPSBpbm5lclR4dDtcbiAgICB9XG4gICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgcC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTcGFuID0gKGlkOiBzdHJpbmcgPSBudWxsLCBjbGFzc2VzOiBzdHJpbmdbXSA9IG51bGwsIHN0eWxlczogc3RyaW5nID0gbnVsbCwgZGF0YXNldDogeyBbaW5kZXg6IHN0cmluZ106IHN0cmluZyB9ID0gbnVsbCwgaW5uZXJIVE1MOiBzdHJpbmcgPSBudWxsLCBpbm5lclR4dDogc3RyaW5nID0gbnVsbCwgbm9kZTogSFRNTEVsZW1lbnQgPSBudWxsKSA9PiB7XG4gICAgbGV0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgc3Bhbi5pZCA9IGlkXG4gICAgfVxuICAgIGlmIChjbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY2xhc3Nlcykge1xuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jc3NUZXh0ID0gc3R5bGVzO1xuICAgIH1cbiAgICBpZiAoZGF0YXNldCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBkIGluIGRhdGFzZXQpIHtcbiAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLScgKyBkLCBkYXRhc2V0W2RdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJIVE1MICE9PSBudWxsKSB7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICAgIH1cbiAgICBpZiAoaW5uZXJUeHQgIT09IG51bGwpIHtcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBpbm5lclR4dDtcbiAgICB9XG4gICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwYW47XG59IiwiZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIG1vZGFsVGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC10ZXh0XCIpLFxuICAgIG1vZGFsQnRuT2s6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1idG4tb2snKSxcbiAgICBtb2RhbEJ0bkNhbmNlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWJ0bi1jYW5jZWwnKSxcbiAgICBzY3JlZW5Nb2RhbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbi1tb2RhbCcpXG59IiwiaW1wb3J0IHtzaG93U2NyZWVufSBmcm9tIFwiLi4vY29tbW9ucy91dGlsc1wiO1xuaW1wb3J0IHtjcmVhdGVTcGFufSBmcm9tIFwiLi4vY29tbW9ucy9kb21cIjtcbmltcG9ydCB7ZWxlbWVudHMgYXMgZWxlbWVudHNNb2RhbH0gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQge2xvYWRUZXh0c30gZnJvbSBcIi4uL2xhbmcvbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgTWFpbiB7XG4gICAgdmFsaWRhdGlvblZhbHVlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgc2hvd1NjcmVlbignbW9kYWwnKTtcbiAgICAgICAgdGhpcy52YWxpZGF0aW9uVmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRUZXh0KG1lc3NhZ2VJZCk7XG4gICAgfVxuXG4gICAgbG9hZFRleHQgPSAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbGV0IGluc2VydFRleHQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50c01vZGFsLm1vZGFsVGV4dC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgbGV0IHNwYW4gPSBjcmVhdGVTcGFuKFwiaTE4bi1cIiArIG1lc3NhZ2VJZCwgWydwcnR6LWkxOG4nXSk7XG4gICAgICAgICAgICBlbGVtZW50c01vZGFsLm1vZGFsVGV4dC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgIHJlc29sdmUoXCJUZXh0IGluc2VydGVkLlwiKTtcbiAgICAgICAgICAgIHJlamVjdChcIlRleHQgbm90IGluc2VydGVkLlwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICBpbnNlcnRUZXh0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbG9hZFRleHRzKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJCdG5zKCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lckJ0bnMgPSAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzTW9kYWwubW9kYWxCdG5Pay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudmFsaWRhdGlvbiwge29uY2U6IHRydWV9KVxuICAgICAgICBlbGVtZW50c01vZGFsLm1vZGFsQnRuQ2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYW5jZWwsIHtvbmNlOiB0cnVlfSlcbiAgICB9XG5cbiAgICB2YWxpZGF0aW9uID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50c01vZGFsLm1vZGFsQnRuQ2FuY2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYW5jZWwpO1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25WYWx1ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50c01vZGFsLm1vZGFsQnRuT2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNhbmNlbCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvblZhbHVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgd2FpdENsaWNrKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hlY2tSZXNwb25zZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRhdGlvblZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVzcG9uc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzTW9kYWwuc2NyZWVuTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZS1lbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMudmFsaWRhdGlvblZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja1Jlc3BvbnNlKCk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHtlbGVtZW50cyBhcyBoZWFkZXJFbGVtZW50c30gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQge2xvYWRUZXh0cywgc2V0UGFnZUxhbmd1YWdlfSBmcm9tIFwiLi4vbGFuZy9tYWluXCI7XG5pbXBvcnQge3Nob3dTY3JlZW59IGZyb20gXCIuLi9jb21tb25zL3V0aWxzXCI7XG5pbXBvcnQge01haW4gYXMgTW9kYWx9IGZyb20gXCIuLi9tb2RhbC9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBNYWluIHtcbiAgICB2YWxpZGF0aW9uUmVzdWx0OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lckxhbmd1YWdlU2VsZWN0b3IoKTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyU2l0ZU5hbWUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBhc2tDb25maXJtYXRpb24oaGVhZGVyVGhpczogYW55KSB7XG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbChcImxpc3Qtb3BlbmVkXCIpO1xuICAgICAgICBoZWFkZXJUaGlzLnZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCBtb2RhbC53YWl0Q2xpY2soKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblJlc3VsdDtcbiAgICB9XG5cbiAgICBldmVudExpc3RlbmVyU2l0ZU5hbWUoKSB7XG4gICAgICAgIGhlYWRlckVsZW1lbnRzLnNpdGVOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEhlYWRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LmN1cnJlbnQgPT0gXCJjb21wdXRlLWxpc3RcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFza0NvbmZpcm1hdGlvbih0aGlzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnZhbGlkYXRpb25SZXN1bHQpID8gc2hvd1NjcmVlbignaG9tZScpIDogc2hvd1NjcmVlbignY29tcHV0ZS1saXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQuY3VycmVudCA9PSBcIm5ldy1saXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NjcmVlbignaG9tZScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dTY3JlZW4oJ2hvbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lckxhbmd1YWdlU2VsZWN0b3IoKSB7XG4gICAgICAgIGhlYWRlckVsZW1lbnRzLmxhbmd1YWdlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0UGFnZUxhbmd1YWdlKCg8SFRNTFNlbGVjdEVsZW1lbnQ+dGhpcykudmFsdWUpO1xuICAgICAgICAgICAgbG9hZFRleHRzKCg8SFRNTFNlbGVjdEVsZW1lbnQ+dGhpcykudmFsdWUpO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgZWxlbWVudHMgPSB7XG4gICAgY2hhbmdlbG9nTGluazogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFuZ2Vsb2ctbGlua1wiKSxcbiAgICBjb250YWN0SWNvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3QtaWNvJyksXG59IiwiaW1wb3J0IHtlbGVtZW50cyBhcyBlbGVtZW50Rm9vdGVyfSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7c2hvd1NjcmVlbn0gZnJvbSBcIi4uL2NvbW1vbnMvdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJDaGFuZ2Vsb2coKTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyQ29udGFjdEljb24oKTtcbiAgICB9XG5cbiAgICBldmVudExpc3RlbmVyQ2hhbmdlbG9nID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50Rm9vdGVyLmNoYW5nZWxvZ0xpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHNob3dTY3JlZW4oJ2NoYW5nZWxvZycpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGV2ZW50TGlzdGVuZXJDb250YWN0SWNvbiA9ICgpID0+IHtcbiAgICAgICAgZWxlbWVudEZvb3Rlci5jb250YWN0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgc2hvd1NjcmVlbignY29udGFjdCcpO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgZWxlbWVudHMgPSB7XG4gICAgYnRuQ3JlYXRlTGlzdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY3JlYXRlLWxpc3RcIiksXG4gICAgYnRuTG9hZExpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLWxvYWQtbGlzdFwiKSxcbiAgICBidG5IZWxwOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bi1oZWxwXCIpLFxuICAgIHNjcmVlbkhvbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuLWhvbWVcIiksXG4gICAgc2NyZWVuQ29tcHV0ZUxpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuLWNvbXB1dGUtbGlzdFwiKSxcbiAgICBzY3JlZW5OZXdMaXN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuLW5ldy1saXN0Jylcbn0iLCJleHBvcnQgY29uc3QgZWxlbWVudHMgPSB7XG4gICAgbmV3TGlzdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXctbGlzdFwiKSxcbiAgICBidG5Db21wdXRlTGlzdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY29tcHV0ZS1saXN0XCIpXG59IiwiZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIGNvbWJpbmF0aW9uczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21iaW5hdGlvbnNcIiksXG4gICAgdGltZUxlZnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLWxlZnQnKSxcbiAgICBwcm9ncmVzc0JhcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyksXG4gICAgY29tcHV0ZUxpc3RUaXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdXRlLWxpc3QtdGlwJyksXG4gICAgY29tcHV0ZUxpc3RSZXN1bHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdXRlLWxpc3QtcmVzdWx0JyksXG59IiwiaW1wb3J0IHtlbGVtZW50cyBhcyBlbGVtZW50c0NvbXB1dGVMaXN0fSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7Y3JlYXRlQnV0dG9uLCBjcmVhdGVEaXYsIGNyZWF0ZVBhcmFncmFwaCwgY3JlYXRlU3Bhbn0gZnJvbSBcIi4uL2NvbW1vbnMvZG9tXCI7XG5pbXBvcnQge2dldEFsbFBhaXJzLCBhcnJheU5vdEluSW5BcnJheSwgdG9UaW1lLCByYW5nZX0gZnJvbSBcIi4uL2NvbW1vbnMvdXRpbHNcIjtcbmltcG9ydCB7bG9hZFRleHRzfSBmcm9tIFwiLi4vbGFuZy9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBNYWluIHtcbiAgICBsaXN0OiB7IFtpbmRleDogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgcXVlc3Rpb25TdGVwOiBudW1iZXI7XG4gICAgcXVlc3Rpb25JdGVyOiBudW1iZXI7XG4gICAgY291cGxlc1RvQ29tcHV0ZTogYW55W107XG4gICAgcGFpcnNDb21wdXRlZDogc3RyaW5nW107XG4gICAgcGFpcnNUcmFuc2l0aXZpdHlBcHBsaWVkOiBzdHJpbmdbXTtcbiAgICBwYWlyU2VxdWVuY2VzOiBbc3RyaW5nLCBzdHJpbmddW107XG4gICAgZmluYWxTZXF1ZW5jZXM6IGFueVtdO1xuICAgIHRpbWVsZWZ0OiBzdHJpbmc7XG4gICAgYWxsUGFpcnM6IHN0cmluZ1tdO1xuICAgIHJlc3VsdHM6IHsgW2luZGV4OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgICBsb29zZXJzOiBzdHJpbmdbXTtcbiAgICBlc3RpbWF0ZWRTZWNvbmRzOiBudW1iZXI7XG4gICAgc3RhcnREYXRlOiBhbnk7XG4gICAgZmlyc3RDb21wdXRpbmc6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihsaXN0OiB7fSkge1xuICAgICAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICAgICAgICB0aGlzLnBhaXJzQ29tcHV0ZWQgPSBbXTtcbiAgICAgICAgdGhpcy5wYWlyc1RyYW5zaXRpdml0eUFwcGxpZWQgPSBbXTtcbiAgICAgICAgdGhpcy5jb3VwbGVzVG9Db21wdXRlID0gW107XG4gICAgICAgIHRoaXMucGFpclNlcXVlbmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmZpbmFsU2VxdWVuY2VzID0gW107XG4gICAgICAgIHRoaXMuYWxsUGFpcnMgPSBbXTtcbiAgICAgICAgdGhpcy5xdWVzdGlvblN0ZXAgPSAxO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uSXRlciA9IDE7XG4gICAgICAgIHRoaXMucmVzdWx0cyA9IHt9O1xuICAgICAgICB0aGlzLmxvb3NlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5lc3RpbWF0ZWRTZWNvbmRzID0gMDtcbiAgICAgICAgdGhpcy5maXJzdENvbXB1dGluZyA9IHRydWU7XG4gICAgICAgIGVsZW1lbnRzQ29tcHV0ZUxpc3QudGltZUxlZnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG5cbiAgICBsYXVuY2ggPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVBbGxQYWlycygpO1xuICAgICAgICB0aGlzLmluaXRRdWVzdGlvbnMoKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUFsbFBhaXJzKCkge1xuICAgICAgICBsZXQgY29tYmluYXRpb25zID0gZ2V0QWxsUGFpcnMoT2JqZWN0LmtleXModGhpcy5saXN0KSk7XG4gICAgICAgIGZvciAobGV0IHBhaXIgb2YgY29tYmluYXRpb25zKSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFpci5qb2luKCdfJyk7XG4gICAgICAgICAgICB0aGlzLmFsbFBhaXJzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXB1dGVDb3VwbGVzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNvdXBsZXNUb0NvbXB1dGUgPSBbXTtcbiAgICAgICAgbGV0IGZpcnN0TnVtYmVyID0gdGhpcy5xdWVzdGlvblN0ZXA7XG4gICAgICAgIGxldCBzZWNvbmROdW1iZXIgPSB0aGlzLnF1ZXN0aW9uU3RlcCArIHRoaXMucXVlc3Rpb25JdGVyO1xuICAgICAgICBmb3IgKGxldCBudW1iZXIgb2YgcmFuZ2UodGhpcy5xdWVzdGlvblN0ZXAsIE9iamVjdC5rZXlzKHRoaXMubGlzdCkubGVuZ3RoLCB0aGlzLnF1ZXN0aW9uSXRlcikpIHtcbiAgICAgICAgICAgIGxldCBjb3VwbGUgPSBbZmlyc3ROdW1iZXIsIHNlY29uZE51bWJlcl07XG4gICAgICAgICAgICBpZiAodGhpcy5wYWlyc0NvbXB1dGVkLmluZGV4T2YoY291cGxlLmpvaW4oJ18nKSkgPT0gLTEgJiYgc2Vjb25kTnVtYmVyIDw9IE9iamVjdC5rZXlzKHRoaXMubGlzdCkubGVuZ3RoKSB0aGlzLmNvdXBsZXNUb0NvbXB1dGUucHVzaChjb3VwbGUpO1xuICAgICAgICAgICAgZmlyc3ROdW1iZXIgPSBzZWNvbmROdW1iZXI7XG4gICAgICAgICAgICBzZWNvbmROdW1iZXIgPSBzZWNvbmROdW1iZXIgKyB0aGlzLnF1ZXN0aW9uSXRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXN0aW9uSXRlciArPSAxO1xuICAgICAgICBpZiAodGhpcy5jb3VwbGVzVG9Db21wdXRlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlQ291cGxlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDb3VwbGVzID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5xdWVzdGlvblN0ZXAgKyB0aGlzLnF1ZXN0aW9uSXRlciA8PSBPYmplY3Qua2V5cyh0aGlzLmxpc3QpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlQ291cGxlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVlc3Rpb25TdGVwICE9IE9iamVjdC5rZXlzKHRoaXMubGlzdCkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25TdGVwICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkl0ZXIgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUNvdXBsZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRQcm9ncmVzc0JhciA9ICgpID0+IHtcbiAgICAgICAgKDxIVE1MUHJvZ3Jlc3NFbGVtZW50PmVsZW1lbnRzQ29tcHV0ZUxpc3QucHJvZ3Jlc3NCYXIpLm1heCA9IHRoaXMuYWxsUGFpcnMubGVuZ3RoIC8gMjtcbiAgICB9XG5cbiAgICBzZXRQcm9ncmVzc1ZhbHVlID0gKGxhc3Q6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgKDxIVE1MUHJvZ3Jlc3NFbGVtZW50PmVsZW1lbnRzQ29tcHV0ZUxpc3QucHJvZ3Jlc3NCYXIpLnZhbHVlID0gdGhpcy5hbGxQYWlycy5sZW5ndGggLyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKDxIVE1MUHJvZ3Jlc3NFbGVtZW50PmVsZW1lbnRzQ29tcHV0ZUxpc3QucHJvZ3Jlc3NCYXIpLnZhbHVlID0gdGhpcy5wYWlyc0NvbXB1dGVkLmxlbmd0aCAvIDI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0UXVlc3Rpb25zID0gKCkgPT4ge1xuICAgICAgICBsZXQgZ2VuZXJhdGVDb3VwbGVzID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUNvdXBsZXMoKTtcbiAgICAgICAgICAgIHJlc29sdmUoXCJDb3VwbGVzIGdlbmVyYXRlZC5cIik7XG4gICAgICAgICAgICByZWplY3QoXCJDb3VwbGVzIG5vdCBnZW5lcmF0ZWQuXCIpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGdlbmVyYXRlQ291cGxlc1xuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFByb2dyZXNzQmFyKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVCdXR0b25zKCk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIHdyaXRlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgZWxlbWVudHNDb21wdXRlTGlzdC5jb21iaW5hdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuY291cGxlc1RvQ29tcHV0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICBmb3IgKGxldCBjb3VwbGUgb2YgdGhpcy5jb3VwbGVzVG9Db21wdXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNob3dIaWRkZW5DbGFzczogc3RyaW5nO1xuICAgICAgICAgICAgICAgIChpID09IDEpID8gc2hvd0hpZGRlbkNsYXNzID0gJ3Nob3cnIDogc2hvd0hpZGRlbkNsYXNzID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgbGV0IHdyYXBwZXJJZCA9IFwiYnRuLXdyYXBwZXItXCIgKyBpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IGNvdXBsZUlkID0gY291cGxlLmpvaW4oJ18nKTtcbiAgICAgICAgICAgICAgICBsZXQgdHdpbklkID0gW2NvdXBsZVsxXSwgY291cGxlWzBdXS5qb2luKCdfJyk7XG4gICAgICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSBjcmVhdGVEaXYod3JhcHBlcklkLCBbXCJidG4td3JhcHBlclwiLCBcImQtZmxleFwiLCBcImZsZXgtY29sdW1uXCIsIHNob3dIaWRkZW5DbGFzc10pO1xuICAgICAgICAgICAgICAgIGxldCB3cmFwcGVyQnRuMSA9IGNyZWF0ZURpdihudWxsLCBbXCJkLWZsZXhcIiwgXCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCJdKTtcbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlckJ0bjIgPSBjcmVhdGVEaXYobnVsbCwgW1wiZC1mbGV4XCIsIFwianVzdGlmeS1jb250ZW50LWNlbnRlclwiXSk7XG4gICAgICAgICAgICAgICAgbGV0IGJ0bjEgPSBjcmVhdGVCdXR0b24obnVsbCwgWydidG4nLCAnYnRuLXByaW1hcnknLCAnYnRuMSddLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogY291cGxlWzBdLFxuICAgICAgICAgICAgICAgICAgICBcImNvdXBsZVwiOiBjb3VwbGVJZCxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVyXCI6IGkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0sIG51bGwsIG51bGwsIHRoaXMubGlzdFtjb3VwbGVbMF1dKTtcbiAgICAgICAgICAgICAgICBsZXQgYnRuMiA9IGNyZWF0ZUJ1dHRvbihudWxsLCBbJ2J0bicsICdidG4tcHJpbWFyeScsICdidG4yJ10sIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBjb3VwbGVbMV0sXG4gICAgICAgICAgICAgICAgICAgIFwiY291cGxlXCI6IGNvdXBsZUlkLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZXJcIjogaS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgbnVsbCwgdGhpcy5saXN0W2NvdXBsZVsxXV0pO1xuXG4gICAgICAgICAgICAgICAgYnRuMS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlQ2hvaWNlQW5kTG9hZE5leHQoYnRuMSk7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGJ0bjIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUNob2ljZUFuZExvYWROZXh0KGJ0bjIpO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB3cmFwcGVyQnRuMS5hcHBlbmRDaGlsZChidG4xKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyQnRuMi5hcHBlbmRDaGlsZChidG4yKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHdyYXBwZXJCdG4xKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHdyYXBwZXJCdG4yKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0NvbXB1dGVMaXN0LmNvbWJpbmF0aW9ucy5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxQYWlycy5maWx0ZXIobiA9PiAhdGhpcy5wYWlyc0NvbXB1dGVkLmluY2x1ZGVzKG4pKS5sZW5ndGggLyAyID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVQcmlvcml0aWVzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbCBuZSBkZXZyYWl0IHBhcyByZXN0ZXIgZGVzIHBhaXJlcyBub24gY2FsY3Vsw6llcy4gT3IsIGlsIGVuIHJlc3RlXCIsIHRoaXMuYWxsUGFpcnMuZmlsdGVyKG4gPT4gIXRoaXMucGFpcnNDb21wdXRlZC5pbmNsdWRlcyhuKSkubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wdXRlQW5kV3JpdGVUaW1lTGVmdCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGNvbXB1dGVUaW1lTGVmdCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZVRpbWVMZWZ0KCk7XG4gICAgICAgICAgICByZXNvbHZlKFwiQ291cGxlcyBnZW5lcmF0ZWQuXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiQ291cGxlcyBub3QgZ2VuZXJhdGVkLlwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICBjb21wdXRlVGltZUxlZnQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVGltZUxlZnQoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb21wdXRlVGltZUxlZnQgPSAoKSA9PiB7XG4gICAgICAgIC8vIFRvZG86IHJlbXBsYWNlciBsZSBpbmNsdWRlcyBwYXIgaW5kZXhvZiA6IMOnYSBuZSBmb25jdGlvbm5lIHBhcyBzb3VzIElFLlxuICAgICAgICBsZXQgY291cGxlc0xlZnRTaXplID0gdGhpcy5hbGxQYWlycy5maWx0ZXIobiA9PiAhdGhpcy5wYWlyc0NvbXB1dGVkLmluY2x1ZGVzKG4pKS5sZW5ndGggLyAyO1xuICAgICAgICBsZXQgc2Vjb25kcyA9IGNvdXBsZXNMZWZ0U2l6ZSAqIDU7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0Q29tcHV0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmVzdGltYXRlZFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAgICAgdGhpcy5maXJzdENvbXB1dGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZWxlZnQgPSB0b1RpbWUoc2Vjb25kcyk7XG4gICAgfVxuXG4gICAgd3JpdGVUaW1lTGVmdCA9IChsYXN0OiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICAgICAgbGV0IHdyaXRlVGltZUxlZnQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgIGxldCBlbmREYXRlOiBhbnkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGxldCB0aW1lRGlmZmVyZW5jZSA9IGVuZERhdGUgLSB0aGlzLnN0YXJ0RGF0ZTtcbiAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZSAvPSAxMDAwXG4gICAgICAgICAgICAgICAgZWxlbWVudHNDb21wdXRlTGlzdC50aW1lTGVmdC5pbm5lckhUTUwgPSBcIjxzcGFuIGlkPSdpMThuLXJlYWwtdGltZScgY2xhc3M9J3BydHotaTE4bicgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBib2xkJz48L3NwYW4+PHNwYW4+IDogXCIgKyB0b1RpbWUoTWF0aC5yb3VuZCh0aW1lRGlmZmVyZW5jZSkpICsgXCI8L3NwYW4+PGJyPlwiO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzQ29tcHV0ZUxpc3QudGltZUxlZnQuaW5uZXJIVE1MICs9IFwiPHNwYW4gaWQ9J2kxOG4tZXN0aW1hdGVkLXRpbWUnIGNsYXNzPSdwcnR6LWkxOG4nIHN0eWxlPSdmb250LXdlaWdodDogYm9sZCc+PC9zcGFuPjxzcGFuPiA6IFwiICsgdG9UaW1lKHRoaXMuZXN0aW1hdGVkU2Vjb25kcykgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNDb21wdXRlTGlzdC50aW1lTGVmdC5pbm5lckhUTUwgPSBcIjxzcGFuIGlkPSdpMThuLXRpbWUtbGVmdCcgY2xhc3M9J3BydHotaTE4bicgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBib2xkJz48L3NwYW4+PHNwYW4+IDogXCIgKyB0aGlzLnRpbWVsZWZ0ICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKFwiVGltZSBsZWZ0IHdyaXR0ZW4uXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiVGltZSBsZWZ0IG5vdCB3cml0dGVuLlwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICB3cml0ZVRpbWVMZWZ0XG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZFRleHRzKCk7XG4gICAgICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY29tcHV0ZUNob2ljZUFuZExvYWROZXh0ID0gKGJ0bjogYW55KSA9PiB7XG4gICAgICAgIGxldCByZWNvcmRDaG9pY2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgY291cGxlID0gYnRuLmRhdGFzZXQuY291cGxlLnNwbGl0KCdfJyk7XG4gICAgICAgICAgICBsZXQgdHdpbklkID0gW2NvdXBsZVsxXSwgY291cGxlWzBdXS5qb2luKCdfJyk7XG4gICAgICAgICAgICB0aGlzLnJlY29yZENob2ljZShidG4uZGF0YXNldC5jb3VwbGUsIHR3aW5JZCwgYnRuLmRhdGFzZXQuaWQpO1xuICAgICAgICAgICAgcmVzb2x2ZShcIkNvdXBsZXMgZ2VuZXJhdGVkLlwiKTtcbiAgICAgICAgICAgIHJlamVjdChcIkNvdXBsZXMgbm90IGdlbmVyYXRlZC5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVjb3JkQ2hvaWNlXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGJ0bi5kYXRhc2V0Lml0ZXIpIDw9IHRoaXMuY291cGxlc1RvQ29tcHV0ZS5sZW5ndGggLSAxKSA/IHRoaXMuc2hvd05leHRDb3VwbGUoYnRuKSA6IHRoaXMuY29tcHV0ZUFuZExvYWROZXh0U3RlcCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoYnRuLmRhdGFzZXQuaXRlcikgPD0gdGhpcy5jb3VwbGVzVG9Db21wdXRlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zaXRpdml0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGJ0bi5kYXRhc2V0Lml0ZXIpIDw9IHRoaXMuY291cGxlc1RvQ29tcHV0ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3NWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGJ0bi5kYXRhc2V0Lml0ZXIpIDw9IHRoaXMuY291cGxlc1RvQ29tcHV0ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUFuZFdyaXRlVGltZUxlZnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlY29yZENob2ljZSA9IChjb3VwbGVJZDogc3RyaW5nLCB0d2luSWQ6IHN0cmluZywgd2lubmVyOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbGV0IGFycmF5Q291cGxlID0gY291cGxlSWQuc3BsaXQoJ18nKTtcbiAgICAgICAgKGFycmF5Q291cGxlWzBdID09IHdpbm5lcikgPyB0aGlzLnBhaXJTZXF1ZW5jZXMucHVzaChbYXJyYXlDb3VwbGVbMF0sIGFycmF5Q291cGxlWzFdXSkgOiB0aGlzLnBhaXJTZXF1ZW5jZXMucHVzaChbYXJyYXlDb3VwbGVbMV0sIGFycmF5Q291cGxlWzBdXSk7XG4gICAgICAgIGlmICh0aGlzLnBhaXJzQ29tcHV0ZWQuaW5kZXhPZihjb3VwbGVJZCkgPT0gLTEpIHRoaXMucGFpcnNDb21wdXRlZC5wdXNoKGNvdXBsZUlkKTtcbiAgICAgICAgaWYgKHRoaXMucGFpcnNDb21wdXRlZC5pbmRleE9mKHR3aW5JZCkgPT0gLTEpIHRoaXMucGFpcnNDb21wdXRlZC5wdXNoKHR3aW5JZCk7XG4gICAgfVxuXG4gICAgc2hvd05leHRDb3VwbGUoYnRuOiBhbnkpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVyYXRpb24gPSBwYXJzZUludChidG4uZGF0YXNldC5pdGVyKTtcbiAgICAgICAgbGV0IG5leHRFbGVtZW50SXRlcmF0aW9uID0gY3VycmVudEl0ZXJhdGlvbiArIDE7XG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLXdyYXBwZXItXCIgKyBjdXJyZW50SXRlcmF0aW9uLnRvU3RyaW5nKCkpO1xuICAgICAgICBsZXQgbmV4dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bi13cmFwcGVyLVwiICsgbmV4dEVsZW1lbnRJdGVyYXRpb24udG9TdHJpbmcoKSk7XG4gICAgICAgIGN1cnJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgY3VycmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG5leHRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBuZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgfVxuXG4gICAgY29tcHV0ZUFuZExvYWROZXh0U3RlcCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGFwcGx5VHJhbnNpdGl2aXR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zaXRpdml0eSgpO1xuICAgICAgICAgICAgcmVzb2x2ZShcIkNvdXBsZXMgZ2VuZXJhdGVkLlwiKTtcbiAgICAgICAgICAgIHJlamVjdChcIkNvdXBsZXMgbm90IGdlbmVyYXRlZC5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgYXBwbHlUcmFuc2l0aXZpdHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluaXRRdWVzdGlvbnMoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aXZpdHkgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGN1cnJlbnRTZXF1ZW5jZSBvZiB0aGlzLnBhaXJTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHNlcXVlbmNlIG9mIHRoaXMucGFpclNlcXVlbmNlcykge1xuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZSAhPSBjdXJyZW50U2VxdWVuY2UgJiYgY3VycmVudFNlcXVlbmNlWzFdID09IHNlcXVlbmNlWzBdICYmIGFycmF5Tm90SW5JbkFycmF5KHRoaXMucGFpclNlcXVlbmNlcywgW2N1cnJlbnRTZXF1ZW5jZVswXSwgc2VxdWVuY2VbMV1dKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbXB1dGVUcmFuc2l0aXZlRWxlbWVudHMgPSAoY3VycmVudFNlcXVlbmNlOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICBmb3IgKGxldCBzZXF1ZW5jZSBvZiB0aGlzLnBhaXJTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgIGlmIChzZXF1ZW5jZSAhPSBjdXJyZW50U2VxdWVuY2UgJiYgY3VycmVudFNlcXVlbmNlWzFdID09IHNlcXVlbmNlWzBdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvdXBsZUlkID0gY3VycmVudFNlcXVlbmNlWzBdICsgXCJfXCIgKyBzZXF1ZW5jZVsxXTtcbiAgICAgICAgICAgICAgICBsZXQgdHdpbklkID0gc2VxdWVuY2VbMV0gKyBcIl9cIiArIGN1cnJlbnRTZXF1ZW5jZVswXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYWlyc0NvbXB1dGVkLmluZGV4T2YoY291cGxlSWQpID09IC0xKSB0aGlzLnBhaXJzQ29tcHV0ZWQucHVzaChjb3VwbGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFpcnNDb21wdXRlZC5pbmRleE9mKHR3aW5JZCkgPT0gLTEpIHRoaXMucGFpcnNDb21wdXRlZC5wdXNoKHR3aW5JZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFycmF5Tm90SW5JbkFycmF5KHRoaXMucGFpclNlcXVlbmNlcywgW2N1cnJlbnRTZXF1ZW5jZVswXSwgc2VxdWVuY2VbMV1dKSkgdGhpcy5wYWlyU2VxdWVuY2VzLnB1c2goW2N1cnJlbnRTZXF1ZW5jZVswXSwgc2VxdWVuY2VbMV1dKTtcbiAgICAgICAgICAgICAgICAvL0RFQlVHIGNvbnNvbGUubG9nKFwidHJhbnNpdGl2aXTDqSBhcHBsaWNhYmxlIHN1clwiLCBjdXJyZW50U2VxdWVuY2UsIFwiZXRcIiwgc2VxdWVuY2UsIFwicXVpIGRvbm5lXCIsIGN1cnJlbnRTZXF1ZW5jZVswXSwgXCI+XCIsIHNlcXVlbmNlWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGx5VHJhbnNpdGl2aXR5ID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5oYXNUcmFuc2l0aXZpdHkoKSkge1xuICAgICAgICAgICAgbGV0IHNlcXVlbmNlc0NvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGFpclNlcXVlbmNlcykpO1xuICAgICAgICAgICAgZm9yIChsZXQgc2VxdWVuY2Ugb2Ygc2VxdWVuY2VzQ29weSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZVRyYW5zaXRpdmVFbGVtZW50cyhzZXF1ZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNpdGl2aXR5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wdXRlUHJpb3JpdGllcyA9ICgpID0+IHtcbiAgICAgICAgbGV0IHNvcnRSZXN1bHRzID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb3J0UmVzdWx0cygpO1xuICAgICAgICAgICAgcmVzb2x2ZShcIlJlc3VsdHMgc29ydGVkLlwiKTtcbiAgICAgICAgICAgIHJlamVjdChcIlJlc3VsdHMgbm90IHNvcnRlZC5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgc29ydFJlc3VsdHNcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvb3NlcnMoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21mb3J0TG9vc2VyKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0R1cGxpY2F0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZpbmFsbHkgdGhlcmUgaXMgZHVwbGljYXRlcy4gRml4IGl0LlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlUmVzdWx0cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgaGFzRHVwbGljYXRlID0gKCkgPT4ge1xuICAgICAgICBsZXQgc2NvcmU6IG51bWJlcltdID0gW107XG4gICAgICAgIGZvciAobGV0IHJlc3VsdCBpbiB0aGlzLnJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzY29yZS5pbmRleE9mKHRoaXMucmVzdWx0c1tyZXN1bHRdKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHNjb3JlLnB1c2godGhpcy5yZXN1bHRzW3Jlc3VsdF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc29ydFJlc3VsdHMgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IHBhaXJTZXF1ZW5jZSBvZiB0aGlzLnBhaXJTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnJlc3VsdHMpLmluZGV4T2YocGFpclNlcXVlbmNlWzBdKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0c1twYWlyU2VxdWVuY2VbMF1dID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRzW3BhaXJTZXF1ZW5jZVswXV0gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdyaXRlUmVzdWx0cyA9ICgpID0+IHtcbiAgICAgICAgbGV0IHNvcnRlZFJlc3VsdHMgPSBPYmplY3QuZW50cmllcyh0aGlzLnJlc3VsdHMpLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKTtcbiAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICBlbGVtZW50c0NvbXB1dGVMaXN0LmNvbWJpbmF0aW9ucy5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBlbGVtZW50IG9mIHNvcnRlZFJlc3VsdHMpIHtcbiAgICAgICAgICAgIGxldCBwID0gY3JlYXRlUGFyYWdyYXBoKG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIGkudG9TdHJpbmcoKSArIFwiIC0gXCIgKyB0aGlzLmxpc3RbZWxlbWVudFswXS50b1N0cmluZygpXSk7XG4gICAgICAgICAgICBlbGVtZW50c0NvbXB1dGVMaXN0LmNvbWJpbmF0aW9ucy5hcHBlbmRDaGlsZChwKTtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFByb2dyZXNzVmFsdWUodHJ1ZSk7XG4gICAgICAgIHRoaXMud3JpdGVUaW1lTGVmdCh0cnVlKTtcbiAgICAgICAgZWxlbWVudHNDb21wdXRlTGlzdC5jb21wdXRlTGlzdFRpcC5jbGFzc0xpc3QuYWRkKCdoaWRlLWVsZW1lbnQnKTtcbiAgICAgICAgZWxlbWVudHNDb21wdXRlTGlzdC5jb21wdXRlTGlzdFJlc3VsdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWVsZW1lbnQnKTtcbiAgICB9XG5cbiAgICBjb21mb3J0TG9vc2VyID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5sb29zZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGxvb3NlciBvZiB0aGlzLmxvb3NlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNbbG9vc2VyXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRMb29zZXJzID0gKCkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5saXN0KS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnJlc3VsdHMpLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMubGlzdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnJlc3VsdHMpLmluZGV4T2Yoa2V5KSA9PSAtMSkgdGhpcy5sb29zZXJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7ZWxlbWVudHMgYXMgZWxlbWVudHNOZXdMaXN0fSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7TWFpbiBhcyBjb21wdXRlTGlzdH0gZnJvbSBcIi4uL2NvbXB1dGVMaXN0L21haW5cIjtcbmltcG9ydCB7c2hvd1NjcmVlbn0gZnJvbSBcIi4uL2NvbW1vbnMvdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIE1haW4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICg8SFRNTFRleHRBcmVhRWxlbWVudD5lbGVtZW50c05ld0xpc3QubmV3TGlzdCkudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJUZXh0YXJlYSgpO1xuICAgIH1cblxuICAgIGV2ZW50TGlzdGVuZXJPdXRzaWRlVGV4dGFyZWEgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVRleHRhcmVhKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlVGV4dGFyZWEgPSAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmNsYXNzTGlzdC5hZGQoJ2luYWN0aXZlJyk7XG4gICAgICAgIGVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmJsdXIoKTtcbiAgICAgICAgKDxIVE1MVGV4dEFyZWFFbGVtZW50PmVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0KS5yZWFkT25seSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZXZlbnRMaXN0ZW5lck91dHNpZGVUZXh0YXJlYSk7XG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lclRleHRhcmVhID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50c05ld0xpc3QubmV3TGlzdC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmNsYXNzTGlzdC5jb250YWlucygnaW5hY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgKDxIVE1MVGV4dEFyZWFFbGVtZW50PmVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0KS5yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZXZlbnRMaXN0ZW5lck91dHNpZGVUZXh0YXJlYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVRleHRhcmVhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZUJyZWFrO1xuICAgICAgICAgICAgbGV0IGVtcHR5TGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gKDxIVE1MVGV4dEFyZWFFbGVtZW50PmVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0KS52YWx1ZTtcbiAgICAgICAgICAgIGxldCBsaW5lcyA9IHZhbHVlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PSBcIlwiKSBlbXB0eUxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHZhbHVlLmluZGV4T2YoJ1xcbicpICE9IC0xKSA/IGxpbmVCcmVhayA9IHRydWUgOiBsaW5lQnJlYWsgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGxpbmVCcmVhayAmJiAhZW1wdHlMaW5lICYmIGxpbmVzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD5lbGVtZW50c05ld0xpc3QuYnRuQ29tcHV0ZUxpc3QpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD5lbGVtZW50c05ld0xpc3QuYnRuQ29tcHV0ZUxpc3QpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ldmVudExpc3RlbmVyQ29tcHV0ZUJ0bik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+ZWxlbWVudHNOZXdMaXN0LmJ0bkNvbXB1dGVMaXN0KS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD5lbGVtZW50c05ld0xpc3QuYnRuQ29tcHV0ZUxpc3QpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ldmVudExpc3RlbmVyQ29tcHV0ZUJ0bik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBidWlsZExpc3QgPSAoKSA9PiB7XG4gICAgICAgIGlmICgoPEhUTUxUZXh0QXJlYUVsZW1lbnQ+ZWxlbWVudHNOZXdMaXN0Lm5ld0xpc3QpLnZhbHVlLmluZGV4T2YoJ1xcbicpICE9IC0xKSB7XG4gICAgICAgICAgICBsZXQgbGlzdEFycmF5ID0gKDxIVE1MVGV4dEFyZWFFbGVtZW50PmVsZW1lbnRzTmV3TGlzdC5uZXdMaXN0KS52YWx1ZS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiB7IFtpbmRleDogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgICAgICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbGlzdEFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbaS50b1N0cmluZygpXSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIklsIG4neSBhIHBhcyBkZSBzYXV0IGRlIGxpZ25lIGTDqXRlY3TDqSAhXCIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50TGlzdGVuZXJDb21wdXRlQnRuID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc2hvd1NjcmVlbignY29tcHV0ZS1saXN0Jyk7XG4gICAgICAgIGxldCBsaXN0OiB7IFtpbmRleDogc3RyaW5nXTogc3RyaW5nIH07XG5cbiAgICAgICAgbGV0IGJ1aWxkTGlzdCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxpc3QgPSB0aGlzLmJ1aWxkTGlzdCgpO1xuICAgICAgICAgICAgcmVzb2x2ZShcIkxpc3QgYnVpbHQuXCIpO1xuICAgICAgICAgICAgcmVqZWN0KFwiTGlzdCBub3QgYnVpbHQuXCIpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGJ1aWxkTGlzdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBjbCA9IG5ldyBjb21wdXRlTGlzdChsaXN0KTtcbiAgICAgICAgICAgIGNsLmxhdW5jaCgpO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQge2VsZW1lbnRzfSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7c2hvd1NjcmVlbn0gZnJvbSBcIi4uL2NvbW1vbnMvdXRpbHNcIjtcbmltcG9ydCB7TWFpbiBhcyBOZXdMaXN0fSBmcm9tIFwiLi4vbmV3TGlzdC9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBNYWluIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJOZXdMaXN0KCk7XG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lck5ld0xpc3QgPSAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzLmJ0bkNyZWF0ZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgTmV3TGlzdCgpO1xuICAgICAgICAgICAgc2hvd1NjcmVlbignbmV3LWxpc3QnKTtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIGNoYW5nZWxvZ0Nsb3NlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYW5nZWxvZy1jbG9zZVwiKSxcbn0iLCJpbXBvcnQge2VsZW1lbnRzIGFzIGVsZW1lbnRzQ2hhbmdlbG9nfSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7c2hvd1NjcmVlbn0gZnJvbSBcIi4uL2NvbW1vbnMvdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJDbG9zZUJ0bigpO1xuICAgIH1cblxuICAgIGV2ZW50TGlzdGVuZXJDbG9zZUJ0biA9ICgpID0+IHtcbiAgICAgICAgZWxlbWVudHNDaGFuZ2Vsb2cuY2hhbmdlbG9nQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgIHNob3dTY3JlZW4oJ2hvbWUnKTtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIGNvbnRhY3RDbG9zZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0LWNsb3NlXCIpLFxuICAgIHNlbmRNYWlsQnRuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1tYWlsLWJ0bicpLFxufSIsImltcG9ydCB7ZWxlbWVudHMgYXMgZWxlbWVudHNDb250YWN0fSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7c2VuZEVtYWlsLCBzaG93U2NyZWVufSBmcm9tIFwiLi4vY29tbW9ucy91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lclNlbmRNYWlsKCk7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lckNsb3NlQnRuKCk7XG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lclNlbmRNYWlsID0gKCk9PiB7XG4gICAgICAgIGVsZW1lbnRzQ29udGFjdC5zZW5kTWFpbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgICAgICAgICAgc2VuZEVtYWlsKCdjM2xzZG1GcGJrQnpiM0owYkdsemRITXVZWEJ3Jyk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZXZlbnRMaXN0ZW5lckNsb3NlQnRuID0gKCkgPT4ge1xuICAgICAgICBlbGVtZW50c0NvbnRhY3QuY29udGFjdENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgICAgICBzaG93U2NyZWVuKCdob21lJyk7XG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBcIi4vc2Nzcy9tYWluLnNjc3NcIjtcbmltcG9ydCBcIi4uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9wb2x5ZmlsbFwiO1xuaW1wb3J0IHtNYWluIGFzIEhlYWRlcn0gZnJvbSBcIi4vdHlwZXNjcmlwdC9oZWFkZXIvbWFpblwiO1xuaW1wb3J0IHtNYWluIGFzIEZvb3Rlcn0gZnJvbSBcIi4vdHlwZXNjcmlwdC9mb290ZXIvbWFpblwiO1xuaW1wb3J0IHtNYWluIGFzIEhvbWV9IGZyb20gXCIuL3R5cGVzY3JpcHQvaG9tZS9tYWluXCI7XG5pbXBvcnQge01haW4gYXMgQ2hhbmdlbG9nfSBmcm9tIFwiLi90eXBlc2NyaXB0L2NoYW5nZWxvZy9tYWluXCI7XG5pbXBvcnQge01haW4gYXMgQ29udGFjdH0gZnJvbSBcIi4vdHlwZXNjcmlwdC9jb250YWN0L21haW5cIjtcbmltcG9ydCB7bG9hZFRleHRzLCBzZXRQYWdlTGFuZ3VhZ2UsIGxvY2FsZXNNYXBwaW5nfSBmcm9tIFwiLi90eXBlc2NyaXB0L2xhbmcvbWFpblwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKGV2ZW50KSA9PiB7XG4gICAgbGV0IGFwcCA9IG5ldyBNYWluKCk7XG4gICAgYXBwLnN0YXJ0KCk7XG59KTtcblxuaW50ZXJmYWNlIE5hdmlnYXRvciB7XG4gIHVzZXJMYW5ndWFnZT86IHN0cmluZztcbiAgYnJvd3Nlckxhbmd1YWdlPzogc3RyaW5nO1xuICBsYW5ndWFnZXM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICBsYW5ndWFnZTogc3RyaW5nO1xufVxuXG5jb25zdCBuYXZpZ2F0b3I6IE5hdmlnYXRvciA9IHdpbmRvdy5uYXZpZ2F0b3I7XG5cbmNsYXNzIE1haW4ge1xuICAgIGhvbWU6IGFueTtcbiAgICBjaGFuZ2Vsb2c6IGFueTtcbiAgICBjb250YWN0OiBhbnk7XG4gICAgaGVhZGVyOiBhbnk7XG4gICAgZm9vdGVyOiBhbnk7XG4gICAgdXNlckxhbmd1YWdlOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCk7XG4gICAgICAgIHRoaXMuZm9vdGVyID0gbmV3IEZvb3RlcigpO1xuICAgICAgICB0aGlzLmhvbWUgPSBuZXcgSG9tZSgpO1xuICAgICAgICB0aGlzLmNoYW5nZWxvZyA9IG5ldyBDaGFuZ2Vsb2coKTtcbiAgICAgICAgdGhpcy5jb250YWN0ID0gbmV3IENvbnRhY3QoKTtcbiAgICAgICAgbGV0IHRtcExhbmd1YWdlID0gbmF2aWdhdG9yWyd1c2VyTGFuZ3VhZ2UnXSB8fCB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlO1xuICAgICAgICB0aGlzLnVzZXJMYW5ndWFnZSA9IHRtcExhbmd1YWdlLnNwbGl0KCctJylbMF07XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIChPYmplY3Qua2V5cyhsb2NhbGVzTWFwcGluZykuaW5kZXhPZih0aGlzLnVzZXJMYW5ndWFnZSkgIT0gLTEpID8gc2V0UGFnZUxhbmd1YWdlKHRoaXMudXNlckxhbmd1YWdlKSA6IHNldFBhZ2VMYW5ndWFnZSgpO1xuICAgICAgICBsb2FkVGV4dHMoKTtcbiAgICB9XG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJjYWxsYmFjayIsImNvbnN0cnVjdG9yIiwidGhlbiIsInZhbHVlIiwicmVzb2x2ZSIsInJlYXNvbiIsInJlamVjdCIsImFyciIsImxlbmd0aCIsIlR5cGVFcnJvciIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsInJlbWFpbmluZyIsInJlcyIsImkiLCJ2YWwiLCJzdGF0dXMiLCJzZXRUaW1lb3V0RnVuYyIsInNldFRpbWVvdXQiLCJpc0FycmF5IiwieCIsIkJvb2xlYW4iLCJub29wIiwiZm4iLCJfc3RhdGUiLCJfaGFuZGxlZCIsIl92YWx1ZSIsInVuZGVmaW5lZCIsIl9kZWZlcnJlZHMiLCJkb1Jlc29sdmUiLCJoYW5kbGUiLCJzZWxmIiwiZGVmZXJyZWQiLCJfaW1tZWRpYXRlRm4iLCJjYiIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsInJldCIsInByb21pc2UiLCJwdXNoIiwibmV3VmFsdWUiLCJmaW5hbGUiLCJ0aGlzQXJnIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJsZW4iLCJIYW5kbGVyIiwiZG9uZSIsImV4IiwicHJvbSIsImFsbCIsImFsbFNldHRsZWQiLCJyYWNlIiwic2V0SW1tZWRpYXRlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJnbG9iYWxOUyIsIkVycm9yIiwiUHJvbWlzZSIsImxhbmd1YWdlU2VsZWN0b3IiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2l0ZU5hbWUiLCJsb2NhbGVzTWFwcGluZyIsInNldFBhZ2VMYW5ndWFnZSIsImxhbmciLCJkb2N1bWVudEVsZW1lbnQiLCJsb2FkVGV4dHMiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmcm9tIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJpZCIsInNwbGl0IiwidG9UaW1lIiwic2Vjb25kcyIsImRhdGUiLCJEYXRlIiwic2V0U2Vjb25kcyIsInJlc3VsdCIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwiYXJyYXlOb3RJbkluQXJyYXkiLCJpdGVtIiwiaXRlbV9hc19zdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiaW5kZXhPZiIsInNob3dTY3JlZW4iLCJzY3JlZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhZGQiLCJjcmVhdGVEaXYiLCJjbGFzc2VzIiwic3R5bGVzIiwiZGF0YXNldCIsImlubmVyVHh0IiwiY29udGVudEVkaXRhYmxlIiwibm9kZSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjIiwic3R5bGUiLCJjc3NUZXh0IiwiZCIsInNldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwiY3JlYXRlQnV0dG9uIiwidGl0bGUiLCJidXR0b24iLCJjcmVhdGVQYXJhZ3JhcGgiLCJwIiwibW9kYWxUZXh0IiwibW9kYWxCdG5PayIsIm1vZGFsQnRuQ2FuY2VsIiwic2NyZWVuTW9kYWwiLCJtZXNzYWdlSWQiLCJsb2FkVGV4dCIsImluc2VydFRleHQiLCJzcGFuIiwiY3JlYXRlU3BhbiIsImV2ZW50TGlzdGVuZXJCdG5zIiwidmFsaWRhdGlvbiIsIm9uY2UiLCJjYW5jZWwiLCJ2YWxpZGF0aW9uVmFsdWUiLCJ3YWl0Q2xpY2siLCJjaGVja1Jlc3BvbnNlIiwiZXZlbnRMaXN0ZW5lckxhbmd1YWdlU2VsZWN0b3IiLCJldmVudExpc3RlbmVyU2l0ZU5hbWUiLCJhc2tDb25maXJtYXRpb24iLCJoZWFkZXJUaGlzIiwibW9kYWwiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiZXZlbnQiLCJ0YXJnZXQiLCJIVE1MSGVhZGluZ0VsZW1lbnQiLCJjdXJyZW50IiwiY2hhbmdlbG9nTGluayIsImNvbnRhY3RJY29uIiwiZXZlbnRMaXN0ZW5lckNoYW5nZWxvZyIsImV2ZW50TGlzdGVuZXJDb250YWN0SWNvbiIsImJ0bkNyZWF0ZUxpc3QiLCJidG5Mb2FkTGlzdCIsImJ0bkhlbHAiLCJzY3JlZW5Ib21lIiwic2NyZWVuQ29tcHV0ZUxpc3QiLCJzY3JlZW5OZXdMaXN0IiwibmV3TGlzdCIsImJ0bkNvbXB1dGVMaXN0IiwiY29tYmluYXRpb25zIiwidGltZUxlZnQiLCJwcm9ncmVzc0JhciIsImNvbXB1dGVMaXN0VGlwIiwiY29tcHV0ZUxpc3RSZXN1bHQiLCJsaXN0IiwibGF1bmNoIiwiZ2VuZXJhdGVBbGxQYWlycyIsImluaXRRdWVzdGlvbnMiLCJjb21wdXRlQ291cGxlcyIsImNvdXBsZXNUb0NvbXB1dGUiLCJmaXJzdE51bWJlciIsInF1ZXN0aW9uU3RlcCIsInNlY29uZE51bWJlciIsInF1ZXN0aW9uSXRlciIsInN0YXJ0IiwiZW5kIiwic3RlcCIsInJhbmdlIiwiT2JqZWN0Iiwia2V5cyIsImNvdXBsZSIsInBhaXJzQ29tcHV0ZWQiLCJqb2luIiwiZ2VuZXJhdGVDb3VwbGVzIiwiaW5pdFByb2dyZXNzQmFyIiwiYWxsUGFpcnMiLCJzZXRQcm9ncmVzc1ZhbHVlIiwibGFzdCIsIndyaXRlQnV0dG9ucyIsInNob3dIaWRkZW5DbGFzcyIsIndyYXBwZXJJZCIsInRvU3RyaW5nIiwiY291cGxlSWQiLCJ3cmFwcGVyIiwid3JhcHBlckJ0bjEiLCJ3cmFwcGVyQnRuMiIsImJ0bjEiLCJidG4yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXB1dGVDaG9pY2VBbmRMb2FkTmV4dCIsImZpbHRlciIsIm4iLCJpbmNsdWRlcyIsImNvbXB1dGVQcmlvcml0aWVzIiwiZXJyb3IiLCJjb21wdXRlQW5kV3JpdGVUaW1lTGVmdCIsImNvbXB1dGVUaW1lTGVmdCIsIndyaXRlVGltZUxlZnQiLCJmaXJzdENvbXB1dGluZyIsInN0YXJ0RGF0ZSIsImVzdGltYXRlZFNlY29uZHMiLCJ0aW1lbGVmdCIsInRpbWVEaWZmZXJlbmNlIiwiTWF0aCIsInJvdW5kIiwiYnRuIiwicmVjb3JkQ2hvaWNlIiwidHdpbklkIiwicGFyc2VJbnQiLCJpdGVyIiwic2hvd05leHRDb3VwbGUiLCJjb21wdXRlQW5kTG9hZE5leHRTdGVwIiwiYXBwbHlUcmFuc2l0aXZpdHkiLCJ3aW5uZXIiLCJhcnJheUNvdXBsZSIsInBhaXJTZXF1ZW5jZXMiLCJoYXNUcmFuc2l0aXZpdHkiLCJjdXJyZW50U2VxdWVuY2UiLCJzZXF1ZW5jZSIsImNvbXB1dGVUcmFuc2l0aXZlRWxlbWVudHMiLCJzZXF1ZW5jZXNDb3B5IiwicGFyc2UiLCJzb3J0UmVzdWx0cyIsImdldExvb3NlcnMiLCJjb21mb3J0TG9vc2VyIiwiaGFzRHVwbGljYXRlIiwid3JpdGVSZXN1bHRzIiwic2NvcmUiLCJyZXN1bHRzIiwicGFpclNlcXVlbmNlIiwic29ydGVkUmVzdWx0cyIsImVudHJpZXMiLCJzb3J0IiwiYSIsImIiLCJsb29zZXJzIiwibG9vc2VyIiwia2V5IiwicGFpcnNUcmFuc2l0aXZpdHlBcHBsaWVkIiwiZmluYWxTZXF1ZW5jZXMiLCJhcnJheSIsImZsYXRNYXAiLCJ5IiwiY3VycmVudEl0ZXJhdGlvbiIsIm5leHRFbGVtZW50SXRlcmF0aW9uIiwiY3VycmVudEVsZW1lbnQiLCJuZXh0RWxlbWVudCIsImV2ZW50TGlzdGVuZXJPdXRzaWRlVGV4dGFyZWEiLCJkaXNhYmxlVGV4dGFyZWEiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnRMaXN0ZW5lclRleHRhcmVhIiwiZW1wdHlMaW5lIiwibGluZXMiLCJldmVudExpc3RlbmVyQ29tcHV0ZUJ0biIsImJ1aWxkTGlzdCIsImxpc3RBcnJheSIsImV2ZW50TGlzdGVuZXJOZXdMaXN0IiwiY2hhbmdlbG9nQ2xvc2UiLCJldmVudExpc3RlbmVyQ2xvc2VCdG4iLCJjb250YWN0Q2xvc2UiLCJzZW5kTWFpbEJ0biIsImV2ZW50TGlzdGVuZXJTZW5kTWFpbCIsImFkZHJlc3MiLCJhdG9iIiwibG9jYXRpb24iLCJocmVmIiwiTWFpbiIsIm5hdmlnYXRvciIsImhlYWRlciIsImZvb3RlciIsImhvbWUiLCJjaGFuZ2Vsb2ciLCJjb250YWN0IiwidG1wTGFuZ3VhZ2UiLCJsYW5ndWFnZSIsInVzZXJMYW5ndWFnZSJdLCJzb3VyY2VSb290IjoiIn0=